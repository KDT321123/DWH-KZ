(()=>{var e,t,n={51617:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=51617,e.exports=t},39973:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=39973,e.exports=t},4297:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4297,e.exports=t},75601:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=75601,e.exports=t},37974:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=37974,e.exports=t},73858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1628);t.transformExtConfig=function(e){let t,n;if(e.deployConfig?.deployTarget===r.DeployTarget.CF){const n=e.deployConfig;t={cfDestination:n.destinationName,destinationAuthType:n.destinationAuthType,addManagedApprouter:n.addToManagedAppRouter,addDeployConfig:!0,projectPath:e.project.targetFolder,projectName:e.project.name,addMTADestination:n.addMTADestination,lcapModeOnly:n.lcapModeOnly,cloudServiceName:n.cloudServiceName}}if(e.flpConfig){const t=e.flpConfig;n={semanticObject:t.semanticObject||r.getFlpId(e.project.name).replace("#",""),action:t.action,title:t.title,skipFlpConfig:!0,addFlpConfig:!0,projectPath:e.project.targetFolder,projectName:e.project.name}}return{cfOptions:t,flpOptions:n}}},43739:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1628),s=r(n(91)),a=n(73858),o=n(71017);class default_1 extends s.default{constructor(e,t){super(e,t),this.log(i.t("INFO_GENERATOR_NAME_VERSION",{generatorName:this.rootGeneratorName(),generatorVersion:this.rootGeneratorVersion()}));try{const{cfOptions:e,flpOptions:t}=a.transformExtConfig(this.options.appConfig);this.deployConfigOpts=e,this.flpConfigOpts=t}catch(e){this.log(i.t("ERROR_GENERATION_EXITING")),this.env.error(e)}}initializing(){this.deployConfigOpts&&this.composeWith(o.join(__dirname,"../cf"),{arguments:this.args,...Object.assign(this.options,this.deployConfigOpts)}),this.flpConfigOpts&&this.composeWith(o.join(__dirname,"../flp"),{arguments:this.args,...Object.assign(this.options,this.flpConfigOpts)})}}t.default=default_1},34328:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.PROXY_URL="HTTP_PROXY",e.H2O_URL="H2O_URL"}(n=t.ENV||(t.ENV={})),t.isAppStudio=function(){return!!process.env[n.H2O_URL]},t.getAppStudioBaseURL=function(){return process.env[n.H2O_URL]},t.getAppStudioProxyURL=function(){return process.env[n.PROXY_URL]}},66690:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(71017));t.toPosixPath=function(e){return i.default.normalize(e).split(/[\\/]/g).join(i.default.posix.sep)}},43895:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(22037),a=i(n(71017));var o,c=n(34328);t.isAppStudio=c.isAppStudio,t.getAppStudioBaseURL=c.getAppStudioBaseURL,t.getAppStudioProxyURL=c.getAppStudioProxyURL,r(n(66690)),r(n(4101)),r(n(44248)),function(e){e.dir=".fioritools"}(o=t.FioriToolsSettings||(t.FioriToolsSettings={})),t.getFioriToolsDirectory=()=>a.default.join(s.homedir(),o.dir)},4101:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettled=function(e){if(!e||0===e.length)return Promise.resolve([]);const t=Array(e.length);let n=0;return new Promise((r=>{e.forEach((async(i,s)=>{try{const a=await Promise.resolve(i);t[s]={status:"fulfilled",value:a},n++,n===e.length&&r(t)}catch(i){t[s]={status:"rejected",reason:i},n++,n===e.length&&r(t)}}))}))}},44248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeRegExp=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},37696:(e,t,n)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0});try{r=n(66828)}catch(e){}const i={AnnotationModeler:"sap.ux.annotationModeler",AppGenerator:"sap.ux.appGenerator",ApplicationModeler:"sap.ux.applicationModeler",Help:"sap.ux.help",RequirementsGathering:"sap.ux.requirementsGathering",ServiceModeler:"sap.ux.serviceModeler",Internal:"sap.ux.internal"},s={"dummy.test.testBetaFeatures.someTokenFeature":"77e0469d-1448-42bf-8d47-0944896dd9ed","sap.ux.applicationModeler.testBetaFeatures.enableFPMFeatures":"438b6071-479e-49b4-81bf-c8a016b71c75","sap.ux.help.testBetaFeatures.enableAppStudioGDContribution":"c8c52f0b-0d7d-4697-997a-d6f29814f42e","sap.ux.help.testBetaFeatures.enableAbapCdsSupport":"794cae98-3456-491a-ae20-3215a98b56df","sap.ux.help.testBetaFeatures.showTestGuides":"fbb03f42-0a86-4fd5-9fc4-8c9b38a4d1a3"};t.FeatureToggleKey="testBetaFeatures",t.ExperimentalFeatures="sap.ux.applicationModeler.enableExperimentalFeatures";class FeatureToggleAccess{static getFeatureToggle(e){let n;if((e.includes(t.FeatureToggleKey)||e===t.ExperimentalFeatures)&&FeatureToggleAccess.vscode){const t=e.slice(0,e.lastIndexOf(".")),r=e.slice(e.lastIndexOf(".")+1,e.length);n=FeatureToggleAccess.vscode.workspace.getConfiguration(t)?.get(r)}else n=!1;if(process.env.TOOLSUITE_FEATURES){n=!!process.env.TOOLSUITE_FEATURES.split(",").includes(e)||n}s[e]&&(n=s[e]===n);return{feature:e,isEnabled:!0===n&&n}}static getAllFeatureToggles(){const e=[];return FeatureToggleAccess.vscode&&Object.keys(i).forEach((n=>{const r=`${i[n]}.${t.FeatureToggleKey}`;let s={};try{s=JSON.parse(JSON.stringify(FeatureToggleAccess.vscode.workspace.getConfiguration(r)))}catch(e){}Object.keys(s).forEach((t=>{const n=FeatureToggleAccess.vscode.workspace.getConfiguration(`${r}`).get(`${t}`),i={feature:`${r}.${t}`,isEnabled:n||!1};e.push(i)}))})),e}}t.FeatureToggleAccess=FeatureToggleAccess,FeatureToggleAccess.vscode=r,t.enableFeature=function(e){let t=[];process.env.TOOLSUITE_FEATURES?(t=process.env.TOOLSUITE_FEATURES.split(","),t.includes(e)||t.push(e)):t.push(e),process.env.TOOLSUITE_FEATURES=t.join()},t.isFeatureEnabled=function(e){return FeatureToggleAccess.getFeatureToggle(e).isEnabled},t.isInternalFeaturesSettingEnabled=function(){let e=!1;if(FeatureToggleAccess.vscode){e=!0===(!!FeatureToggleAccess.vscode.workspace&&FeatureToggleAccess.vscode.workspace.getConfiguration()?.get("sap.ux.internal.enableInternalFeatures"))}return process.env.TOOLSUITE_INTERNAL&&"true"===process.env.TOOLSUITE_INTERNAL&&(e=!0),e}},37705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37696);t.FeatureToggleAccess=r.FeatureToggleAccess,t.FeatureToggleKey=r.FeatureToggleKey,t.isFeatureEnabled=r.isFeatureEnabled,t.isInternalFeaturesSettingEnabled=r.isInternalFeaturesSettingEnabled,t.enableFeature=r.enableFeature,t.ExperimentalFeatures=r.ExperimentalFeatures},14219:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(73577)),s=r(n(74316));t.i18n=i.default.createInstance(),t.initI18n=async function(){await t.i18n.init({resources:{en:{translation:s.default}},lng:"en",fallbackLng:"en",joinArrays:"\n\n"})}},3524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28075);t.geI18ntDocumentation=r.geI18ntDocumentation,t.loadPropertiesTexts=r.loadPropertiesTexts,t.printPropertiesFileI18nEntry=r.printPropertiesFileI18nEntry,t.printPropertiesFileI18nAnnotation=r.printPropertiesFileI18nAnnotation;var i=n(8300);t.getLineOffsets=i.getLineOffsets;var s=n(11581);t.getI18nMaxLength=s.getI18nMaxLength,t.getI18nTextType=s.getI18nTextType;var a=n(77981);t.extractI18nKey=a.extractI18nKey,t.getI18nUniqueKey=a.getI18nUniqueKey;var o=n(41025);t.convertToCamelCase=o.convertToCamelCase,t.convertToPascalCase=o.convertToPascalCase;var c=n(44666);t.Position=c.Position,t.Range=c.Range;var l=n(27406);t.positionAt=l.positionAt,t.rangeAt=l.rangeAt,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(45924));var u=n(14219);t.initI18n=u.initI18n,t.i18n=u.i18n;const d=n(14219);(async()=>{await d.initI18n()})()},77981:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractI18nKey=(e,t)=>t?e.replace(/{i18n>|{i18n&gt;/,"").replace("}","").trim():e.replace(/{@i18n>|{@i18n&gt;/,"").replace("}","").trim(),t.getI18nUniqueKey=(e,n,r=e,i=1)=>{const s=e;let a=!1;return a=Array.isArray(n)?-1!==n.findIndex((t=>t.key.value===e)):void 0!==n[e],a?(e=`${r}${i}`,i++,t.getI18nUniqueKey(e,n,r,i)):s}},8300:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLineOffsets=function(e){const t=[0];for(let n=0;n<e.length;n++){const r=e[n];"\n"===r?t.push(n+1):"\r"===r&&(n+1<e.length&&"\n"===e[n+1]&&n++,t.push(n+1))}return t}},44666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Position={create:(e,t)=>({line:e,character:t})},t.Range={create:function(e,n,r,i){if(!("number"!=typeof e||isNaN(e)||"number"!=typeof n||isNaN(n)||"number"!=typeof r||isNaN(r)||"number"!=typeof i||isNaN(i)))return{start:t.Position.create(e,n),end:t.Position.create(r,i)};if("object"==typeof e&&"object"==typeof n)return{start:e,end:n};throw new Error(`Range#create called with invalid arguments ${e}, ${n}, ${r}, ${i}`)}}},27406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44666);function i(e,t,n){const i=Math.max(Math.min(t,n),0);let s=0,a=e.length;if(0===a)return r.Position.create(0,i);for(;s<a;){const t=Math.floor((s+a)/2);e[t]>i?a=t:s=t+1}const o=s-1;return r.Position.create(o,i-e[o])}t.positionAt=i,t.rangeAt=function(e,t,n,s){return r.Range.create(i(e,t,s),i(e,n,s))}},28075:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(14219),i=n(44666),s=n(76754),a=n(11581),o=/\s*(:?#|!)|[^\n\r]*/;function c(e,t,n){const{start:r}=e.range;return-1!==t?{value:e.value.slice(1,t),range:i.Range.create(r.line,r.character,r.line,r.character+t)}:-1!==n?{value:e.value.slice(1,n),range:i.Range.create(r.line,r.character+1,r.line,r.character+n)}:{value:e.value.slice(1),range:i.Range.create(r.line,r.character,r.line,r.character+e.value.length)}}function l(e,t){if(!t){const t=a.getI18nMaxLength(e);return`${a.getI18nTextType(t)},${t}`}if("string"==typeof t){return`${e.length<=120?"X":"Y"}${t}`}if("object"==typeof t){const{textType:e,note:n,maxLength:r}=t,i=[e];return void 0!==r&&i.push(",",r.toString()),n&&i.push(":"," ",n.trim()),i.join("")}return""}t.loadPropertiesTexts=(e,t="")=>{const n=[],r=s.parseProperties(e);for(let e=0;r.length>e;e++){const s=r[e];if("key-element-line"===s.type){const a=r[e-1],l={filePath:t,key:{value:s.key.value,range:s.key.range},value:{value:s.element.value,range:s.element.range}};if("comment-line"===a?.type&&o.test(a.value)){const{start:e}=a.range,t=a.value.indexOf(","),n=a.value.indexOf(":");l.annotation={textType:c(a,t,n)},-1!==t&&(l.annotation.maxLength={value:parseInt(a.value.slice(t+1,-1===n?void 0:n)),range:i.Range.create(e.line,e.character+t+1,e.line,e.character+(-1===n?a.value.length:n))}),-1!==n&&(l.annotation.note={value:a.value.slice(n+1),range:i.Range.create(e.line,e.character+n+1,e.line,e.character+a.value.length)})}n.push(l)}}return n},t.printPropertiesFileI18nAnnotation=l,t.printPropertiesFileI18nEntry=function(e,t,n){return`\n${`#${l(t,n)}`}\n${`${e}=${t}`}\n`},t.geI18ntDocumentation=e=>{const t=[],n=`**${r.i18n.t("Text_Key")}:** ${e.key.value}`,i=`**${r.i18n.t("Text_Value")}:** ${e.value.value}`;if(t.push(n,i),e.annotation){const n=l(e.value.value,{maxLength:e.annotation.maxLength?.value,textType:e.annotation.textType.value,note:e.annotation.note?.value});t.push(`**${r.i18n.t("Additional_Information")}:** ${n}`)}return t.join("\n\n")}},76754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8300),i=n(44666),s=n(27406);t.parseProperties=function(e){const t=m(e),n=r.getLineOffsets(e),a=e.length;let o=0;const c=e=>e?t[o+e]:t[o],l=()=>t[o++],u=()=>o>=t.length;function d(){const e=l();return{type:"comment-line",value:e.image,range:s.rangeAt(n,e.start,e.end,a)}}function p(){const e=l(),t={type:"text",value:e.image,range:s.rangeAt(n,e.start,e.end,a)};let r,o,d=!0;if("whitespace"===c().type&&l(),"separator"===c().type){r=o=l().end,"whitespace"===c().type&&l()}let p="";for(;!u()&&"end-of-line"!==c()?.type;){for(;!u()&&"end-of-line"!==c()?.type&&"continuation-line-marker"!==c()?.type;)if("text"===c()?.type||"whitespace"===c()?.type){const e=l();d&&(r=e.start,d=!1),o=e.end,p+=e.image}"continuation-line-marker"===c()?.type&&(l(),"whitespace"===c().type&&l())}const f={type:"text",value:p,range:s.rangeAt(n,r??0,o??0,a)};return{type:"key-element-line",key:t,element:f,range:i.Range.create(t.range.start,f.range.end)}}return function(){const e=[];for(;!u();){const t=c();"comment"===t.type?e.push(d()):"text"===t.type&&e.push(p()),"end-of-line"!==c()?.type&&"whitespace"!==c()?.type||l()}return e}()};const a=/=|:/,o=/#|!/,c=/\r|\n|\r\n/,l=/[ \t\f]+/,u=/[0-9a-fA-F]/,d={"\\\\":"\\","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},p={...d,"\\=":"=","\\:":":"};function f(e,t,n,r){return{type:e,image:t,start:n,end:r}}function m(e){const t=[];let n=0,r="",i=0;for(;n<e.length;){let s=e[n];if("\n"===s)t.push(f("end-of-line","\n",i,n+1)),i=n+1;else if("\r"===s)n+1<e.length&&"\n"===e[n+1]?(t.push(f("end-of-line",s+e[n+1],n,n+2)),i=n+2,n++):(t.push({type:"end-of-line",image:s,start:n,end:n+1}),i=n+1);else if(o.test(s)){for(r+=s;n+1<e.length;){const t=e[n+1];if(c.test(t))break;r+=t,n++}t.push(f("comment",r,i,n+1)),r="",i=n+1}else if(l.test(s)){for(r+=s;n+1<e.length;){const t=e[n+1];if(!l.test(t)||c.test(t))break;r+=t,n++}t.push(f("whitespace",r,i,n+1)),r="",i=n+1}else{for(;n<e.length;)if(s=e[n],"\\"!==s){if(l.test(s)||a.test(s)||c.test(s))break;r+=s,n++}else{const t=e[n+1];if(void 0!==t){const i=p[s+t];if(void 0!==i)r+=i,n+=2;else if(s+t==="\\u"){const t=n+4+1;let i="";for(let r=n+2;r<=t;r++){const t=e[r];if(!u.test(t))break;i+=t}4===i.length?(r+=String.fromCharCode(parseInt(i,16)),n+=6):(r+="\\u"+i,n+=2+i.length)}else n++}}if(t.push(f("text",r,i,n)),r="",i=n,l.test(s)){for(r+=s;n+1<e.length;){const t=e[n+1];if(!l.test(t)||c.test(t))break;r+=t,n++}t.push(f("whitespace",r,i,n+1)),r="",i=n+1,n++,s=e[n]}if(a.test(s)&&(t.push(f("separator",s,i,n+1)),i=n+1,n++,s=e[n]),l.test(s)){for(r=s;n+1<e.length;){const t=e[n+1];if(!1===l.test(t)||c.test(t))break;r+=t,n++}t.push(f("whitespace",r,i,n+1)),r="",i=n+1,n++,s=e[n]}if("\n"===s)t.push(f("end-of-line","\n",i,n+1)),i=n+1;else if("\r"===s)n+1<e.length&&"\n"===e[n+1]?(t.push(f("end-of-line",s+e[n+1],n,n+2)),i=n+2,n++):(t.push({type:"end-of-line",image:s,start:n,end:n+1}),i=n+1);else{for(;n<e.length;)if(s=e[n],"\\"!==s)if(l.test(s)){for(r&&(t.push(f("text",r,i,n)),r="",i=n),r=s;n+1<e.length;){const t=e[n+1];if(!1===l.test(t)||c.test(t))break;r+=t,n++}t.push(f("whitespace",r,i,n+1)),r="",i=n+1,n++,s=e[n]}else{if(c.test(s))break;r+=s,n++}else{const a=e[n+1];if(void 0!==a){const o=d[s+a];if(void 0!==o)r+=o,n+=2;else if(s+a==="\\u"){const t=n+4+1;let i="";for(let r=n+2;r<=t;r++){const t=e[r];if(!u.test(t))break;i+=t}4===i.length?(r+=String.fromCharCode(parseInt(i,16)),n+=6):(r+="\\u"+i,n+=2+i.length)}else"\n"===a?(t.push(f("text",r,i,n)),t.push(f("continuation-line-marker","\\\n",n,n+2)),i=n+2,n+=2,r=""):"\r"===a?n+1<e.length&&"\n"===e[n+2]?(t.push(f("text",r,i,n)),t.push(f("continuation-line-marker","\\\r\n",n,n+3)),i=n+3,n+=3,r=""):(t.push(f("text",r,i,n)),t.push(f("continuation-line-marker","\\\r",n,n+2)),i=n+2,n+=2,r=""):n++}}if(t.push(f("text",r,i,n)),r="",i=n,c.test(s))continue}}n++}return t}t.createToken=f,t.tokenize=m},11581:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(45924);t.getI18nMaxLength=e=>{const t=e.length;return t<8?5*t:t<=30?3*t:1.5*t},t.getI18nTextType=e=>e<=120?r.SapShortTextType.Label:r.SapLongTextType.MessageText},41025:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToCamelCase=(e="",t=4)=>{let n="";const r=e.replace(/[^a-zA-Z0-9 ]/g,"").trim().split(" "),i=r.length>=t?t:r.length;for(let e=0;i>e;e++){const t=r[e];if(0===e)n+=t.toLowerCase();else{n+=`${t.charAt(0).toUpperCase()}${t.substr(1).toLowerCase()}`}}return n},t.convertToPascalCase=(e,t=4)=>{let n="";const r=e.replace(/[^a-zA-Z0-9 ]/g,"").trim().split(" "),i=r.length>=t?t:r.length;for(let e=0;i>e;e++){const t=r[e];n+=`${t.charAt(0).toUpperCase()}${t.substr(1).toLowerCase()}`}return n}},45924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Accessibility="XACT",e.AlternativeText="XALT",e.BreadcrumbStep="XBCB",e.BulletListItemText="XBLI",e.ButtonText="XBUT",e.Caption="XCAP",e.Cell="XCEL",e.Checkbox="XCKL",e.ColumnHeader="XCOL",e.Tabstrip="XCRD",e.DataNavigationText="XDAT",e.Label="XFLD",e.Frame="XFRM",e.Term="XGLS",e.GroupTitle="XGRP",e.Heading="XHED",e.LegendText="XLGD",e.HyperlinkText="XLNK",e.LogEntry="XLOG",e.ListBoxItem="XLST",e.MenuHeader="XMEN",e.MenuItem="XMIT",e.MessageText="XMSG",e.RadioButton="XRBL",e.RoadmapStep="XRMP",e.TableRowHeading="XROW",e.SelectionText="XSEL",e.TabStripText="XTBS",e.TableTitle="XTIT",e.TreeNodeText="XTND",e.QuickInfoText="XTOL",e.GeneralText="XTXT"}(t.SapShortTextType||(t.SapShortTextType={})),function(e){e.Accessibility="YACT",e.BulletListItemText="YBLI",e.Definition="YDEF",e.Description="YDES",e.Explanation="YEXP",e.FaqAnswer="YFAA",e.Faq="YFAQ",e.GlossaryDefinition="YGLS",e.Information="YINF",e.Instruction="YINS",e.LogEntry="YLOG",e.ErrorMessage="YMSE",e.MessageText="YMSG",e.InformationMessageLong="YMSI",e.WarningMessage="YMSW",e.TechnicalText="YTEC",e.Ticker="YTIC",e.GeneralTextLong="YTXT"}(t.SapLongTextType||(t.SapLongTextType={})),t.NOT_RELEVANT_FOR_TRANSLATION="NOTR"},26770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8420),i=n(89389),s=n(45116);async function a(e=console){const t=i.getSecureStore(e),n=r.ServiceName.ApiHub,a=await t.retrieve(n,s.API_HUB_API_KEY);return a&&e.info("Retrieved stored API hub key"),a}t.getApiHubApiKey=a,t.saveApiHubApiKey=async function(e,t=console){const n=i.getSecureStore(t),o=r.ServiceName.ApiHub;return void 0!==await a(t)&&await n.delete(o,s.API_HUB_API_KEY),n.save(o,s.API_HUB_API_KEY,e)}},39077:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(83835),i=n(86303),s=n(19947);t.AtoCatalog=class AtoCatalog{static async getATOData({system:e,credentials:t,log:n=console,connection:r,systemInstance:a}){let o,c;if(a){o={...a.config,service:s.ATO_CATALOG_URL_PATH};const e=a.serialize();c={username:e.username,password:e.password,serviceKeysContents:e.serviceKeys}}else o={...e,service:s.ATO_CATALOG_URL_PATH},t&&(c=t);const l=await new i.ODataClient({system:o,credentials:c,log:n,connection:r,autoAddTrailingSlash:!1}).get();return this.getAtoData(l)}static getAtoData(e){const t=r.xmlToJson(e)?.settings;if(!t)throw new Error("ATO settings unavailable");return{tenantType:t.tenantType,operationsType:t.operationsType,isExtensibilityDevSystem:!0===t.isExtensibilityDevelopmentSystem,devPackage:t.developmentPackage,devPrefix:t.developmentPrefix}}}},19947:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(86303);t.V2_CATALOG_URL_PATH="/sap/opu/odata/IWFND/CATALOGSERVICE;v=2",t.V4_CATALOG_URL_PATH_DEV="/sap/opu/odata4/iwfnd/config/default/iwfnd/catalog/0001",t.V4_CATALOG_URL_PATH_PROD="/sap/opu/odata4/iwfnd/config/default/iwfnd/catalog/0002",t.V2_SERVICES_PATH="/ServiceCollection",t.V2_RECOMMENDED_SERVICES_PATH="/RecommendedServiceCollection",t.V4_SERVICES_PATH_DEV="/ServiceGroups('%2FIWBEP%2FALL')?$expand=Systems($expand=Services)",t.V4_SERVICES_PATH_PROD="/ServiceGroups?$expand=DefaultSystem($expand=Services)",t.V4_RECOMMENDED_SERVICES_PATH_PROD="/ServiceGroups?$expand=DefaultSystem($expand=RecommendedServices)",t.V2_ODATA_CATALOG_FILTER_FOR_S4_HANA_SERVICES="?%24filter=((IsSapService%20eq%20true)and(ReleaseStatus%20eq%20%27RELEASED%27))or((IsSapService%20eq%20false))",t.ATO_CATALOG_URL_PATH="/sap/bc/adt/ato/settings",t.ODATA_COUNT_QUERY="$count=true",t.ODATA_SKIP_QUERY="$skiptoken",function(e){e.v2="2",e.v4="4"}(t.ODataVersion||(t.ODataVersion={}));class Catalog extends r.ODataClient{}t.Catalog=Catalog,function(e){e[e.RECOMMENDED=0]="RECOMMENDED",e[e.LEGACY=1]="LEGACY"}(t.CATALOG_REQ_TYPE||(t.CATALOG_REQ_TYPE={}))},79101:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(21148);r(n(19947)),r(n(39077)),r(n(36579)),r(n(32791)),r(n(13185)),t.getCatalog=function(e){return e.odataVersion===i.ODataVersion.v4?new i.V4Catalog(e):new i.V2Catalog(e)}},13185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isS4HanaCloudSystem=function(e){return"CUSTOMER"===e.tenantType&&"C"===e.operationsType&&!0===e.isExtensibilityDevSystem&&""!==e.devPrefix&&""!==e.devPackage}},36579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48269),i=n(39077),s=n(19947),a=n(13185);class V2Catalog extends s.Catalog{constructor({system:e,credentials:t,log:n=console,connection:i,postConnectionCallback:a}){if(t?.serviceKeys||t?.serviceKeysContents){const n=r.getServiceInfo(t);t.serviceInfo=n,e.url=n.url,n.catalogs?.abap?.path&&(e.service=n.catalogs.abap.path)}else e.service||(e.service=s.V2_CATALOG_URL_PATH);super({system:e,credentials:t,log:n,connection:i,postConnectionCallback:a})}async listServices(e=!1){if(e)return this.get(s.V2_RECOMMENDED_SERVICES_PATH);{let e=!1;try{await this.getConnection(),e=a.isS4HanaCloudSystem(await i.AtoCatalog.getATOData({system:this.system,connection:this.connection,log:this.log,credentials:this.credentials}))}catch(e){}return this.get(e?s.V2_SERVICES_PATH+s.V2_ODATA_CATALOG_FILTER_FOR_S4_HANA_SERVICES:s.V2_SERVICES_PATH)}}async findService({title:e,path:t}){if(!e&&!(e=t.replace(/\/$/,"").split("/").pop()))throw new Error(`Cannot determine service title from path: ${t}`);e=e.toUpperCase();const n=await this.get(`/ServiceCollection/?$filter=Title%20eq%20%27${e}%27&$format=json`);if(n.length>1){const e=n.filter((e=>e.ServiceUrl?.toUpperCase().includes(t.toUpperCase())));if(e.length>1)this.log.warn("Service filter was not sufficient to identify one service.");else if(e.length>0)return this.log.info(`Service filter chose service: ${e[0].TechnicalServiceName}`),e[0]}return n.length>0?n[0]:void 0}async getAnnotations({id:e,title:t,path:n}){if(!e&&!t&&!n)throw new Error("No filter parameters passed in");const r=await this.getServiceAnnotations({id:e,title:t,path:n}),i=[];if(r)for(const e of r){const t=`/Annotations(TechnicalName='${encodeURIComponent(e.TechnicalName)}',Version='${e.Version}')/$value/`,n=await this.get(t);n?i.push({TechnicalName:e.TechnicalName,Version:e.Version,Definitions:n,Uri:this.system.service+t}):this.log.warn(`No annotations found for TechnicalName=${e.TechnicalName}, Version=${e.Version}`)}return i}async getServiceAnnotations({id:e,title:t,path:n}){if(!e){const r=await this.findService({title:t,path:n});r&&(e=r.ID)}return e?this.get(`/ServiceCollection('${encodeURIComponent(e)}')/Annotations?$format=json`):void 0}}t.V2Catalog=V2Catalog},32791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(48269),i=n(19947);class V4Catalog extends i.Catalog{constructor({system:e,credentials:t,log:n=console,connection:s,postConnectionCallback:a}){if(t?.serviceKeys||t?.serviceKeysContents){const n=r.getServiceInfo(t);t.serviceInfo=n,e.url=n.url}e.service=i.V4_CATALOG_URL_PATH_PROD,super({system:e,credentials:t,log:n,connection:s,postConnectionCallback:a})}parseServiceData(e,t){if(e&&Array.isArray(e)){const n=t?"RecommendedServices":"Services",r=[];return e.forEach((({DefaultSystem:e,GroupId:t})=>{r.push(...e[n].map((e=>Object.assign(e,{GroupId:t}))))})),r}return[]}async listServices(e=!1){if(!this.services){const t=e?i.V4_RECOMMENDED_SERVICES_PATH_PROD:i.V4_SERVICES_PATH_PROD;this.services=[];const n=await this.get(`${t}&${i.ODATA_COUNT_QUERY}`);if(this.services=this.services.concat(this.parseServiceData(n.value,e)),n["@odata.nextLink"]){let r=parseInt(n["@odata.nextLink"]?.split("skiptoken=")[1]);for(;!isNaN(r)&&r>0;){const n=await this.get(`${t}&${i.ODATA_SKIP_QUERY}=${r}`);this.services.push(...this.parseServiceData(n.value,e)),r=parseInt(n["@odata.nextLink"]?.split("skiptoken=")[1])}}}return this.services}async getAnnotations(){return Promise.resolve([])}}t.V4Catalog=V4Catalog},60465:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(94486)),s=n(81247),a=r(n(95687)),o=n(57310);t.newHttpClient=async function({system:e,credentials:t,log:n,existingConnection:r,autoAddTrailingSlash:c=!0,timeout:l,ignoreCertError:u,postConnectionCallback:d}){const p=r||await s.connect({target:e,credentials:t,log:n,autoAddTrailingSlash:c,timeout:l,ignoreCertError:u,postConnectionCallback:d}),f={Cookie:p.cookies.toString()};p.xsrfToken&&(f["x-csrf-token"]=p.xsrfToken);const m={baseURL:new o.URL(e.service,e.url).toString(),headers:f,withCredentials:!0,httpsAgent:new a.default.Agent({rejectUnauthorized:!u})};return p?.auth&&(m.auth=p.auth),i.default.defaults.headers.common.Accept="application/json,application/xml,text/plain,*/*",{connection:p,httpClient:i.default.create(m)}}},21148:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(86303)),r(n(1201)),r(n(79101)),r(n(22860)),r(n(69599))},22860:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(11201));function s(e,t,n){const r=t.concat(e).replace(/'/g,"%27");n.info(r)}function a(e,t,n,r=!1){e?"success"===(e=e.toLowerCase())?n.info(i.default.greenBright(t)):("warning"===e&&(e="warn"),n[e](t)):r?n.error(t):n.info(t)}function o(e,t,n){e&&e.forEach((e=>{e.message.startsWith("<![CDATA")||a(e.severity,e.message,t,!0),e.longtext_url&&n?.frontendUrl&&s(e.longtext_url,n.frontendUrl,t)}))}t.prettyPrintMessage=function(e,t,n){a(e.severity,e.message,t),e.longtextUrl&&n.frontendUrl&&s(e.longtextUrl,n.frontendUrl,t),e.details&&e.details.forEach((e=>{a(e.severity,e.message,t)}))},t.prettyPrintError=function(e,t,n){if(e&&(t.error(e.message?.value),e.innererror&&(e.innererror.errordetails&&o(e.innererror.errordetails,t,n),e.innererror.Error_Resolution)))for(const n in e.innererror.Error_Resolution)t.error(`${n}: ${e.innererror.Error_Resolution[n]}`)},t.printErrorDetails=o},86303:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8420),i=n(43895),s=n(60465),a=n(22860),o=n(41785),c=n(69599),l=n(83835),u=n(74969);t.ODataClient=class ODataClient{constructor({system:e,credentials:t,log:n=console,connection:r,autoAddTrailingSlash:i=!0,timeout:s,ignoreCertError:a,postConnectionCallback:o}){this.autoAddTrailingSlash=!0,this.system=e,this.credentials=t,this.log=n,this.connection=r,this.autoAddTrailingSlash=i,this.timeout=s,this.ignoreCertError=a,this.postConnectionCallback=o,e&&c.TlsPatch.isPatchRequired(e.url)&&c.TlsPatch.apply(),this.validateSysAuthType(e,t)}validateSysAuthType(e,t){if(e.authenticationType=e.authenticationType||l.guessAuthType({credentials:t,fallback:!0}),!Object.values(r.AuthenticationType).includes(e.authenticationType))throw new u.UnknownSystemAuthenticationType(e.authenticationType)}logError(e,t){this.log.error(e.message),e.isAxiosError&&e.response.data.error&&a.prettyPrintError(e.response.data.error,this.log,t)}async getClient(){if(!this.client){i.isAppStudio()&&await o.updateSystemConfig(this.system);const{connection:e,httpClient:t}=await s.newHttpClient({system:this.system,credentials:this.credentials,log:this.log,existingConnection:this.connection,autoAddTrailingSlash:this.autoAddTrailingSlash,timeout:this.timeout,ignoreCertError:this.ignoreCertError,updateUserInfo:this.updateUserInfo,postConnectionCallback:this.postConnectionCallback});this.connection=e,this.client=t}return this.client}async getConnection(){return this.connection||await this.getClient(),this.connection}async metadata(){const e=this.system.service?.endsWith("/")?"$metadata":"/$metadata";return this.get(e,{Accept:"application/xml"})}async get(e,t){const n=await this.getClient(),r=await(n.get(e,void 0===t?{}:{headers:t})?.catch((e=>{if(e.request?._isRedirect&&e.request?._options?.path)return n.get(e.request._options.path,void 0===t?{}:{headers:t});throw e})));return r?.data?.d?r.data.d.results?r.data.d.results:r.data.d:r?.data?.value?r.data:r?.data}}},69599:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(24404)),s=n(78285);class TlsPatch{static get isPatched(){return TlsPatch._patched}static isPatchRequired(e){return!TlsPatch.isPatched&&e&&e.includes(".sap.corp")}static apply(){if(TlsPatch.isPatched)return;const e=i.default.createSecureContext;i.default.createSecureContext=t=>{const n=e(t);return s.globalRootCaPem.replace(/\r\n/g,"\n").match(/-----BEGIN CERTIFICATE-----\n[\s\S]+?\n-----END CERTIFICATE-----/g).forEach((e=>{n.context.addCACert(e.trim())})),n},TlsPatch._patched=!0}}t.TlsPatch=TlsPatch},1201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(86303),i=n(57147),s=n(22860),a=n(45116);class Ui5AbapRepository extends r.ODataClient{constructor({system:e,credentials:t,log:n=console,connection:r,ignoreCertError:i,postConnectionCallback:s}){e.service=e.service??a.DEFAULT_SERVICE_PATH,super({system:e,credentials:t,log:n,connection:r,ignoreCertError:i,postConnectionCallback:s})}async getInfo(e){try{return await this.get(`/Repositories('${encodeURIComponent(e)}')`)}catch(e){return}}async deploy(e,t,n=!1,r=!0){const i=await this.getClient(),a=await this.getInfo(t.name),o=this.createPayload(e,t.name,t.description||"Deployed with SAP Fiori tools",a?a.Package:t.package,i),c=this.createConfig(t.transport,n,r),l=this.getAbapFrontendUrl(this.system.originalUrl||this.system.url);try{const e=await this.updateRepoRequest(!!a,t.name,i,o,c);if(e?.headers?.["sap-message"]){const n=JSON.parse(e.headers["sap-message"]);n.longtextUrl=n.longtext_url,s.prettyPrintMessage(n,this.log,{frontendUrl:l});const r="/sap/bc/ui5_ui5"+(t.name.startsWith("/")?"":"/sap/")+t.name.toLowerCase(),i=this.system.client?"?sap-client="+this.system.client:"";this.log.info(`App available at ${l}${r}${i}`)}else n&&s.printErrorDetails(e?.data.error?.innererror?.errordetails,this.log,{frontendUrl:l});return e}catch(e){throw this.logError(e,{frontendUrl:l}),e}}async undeploy(e,t=!1){const n=await this.getClient(),r=this.createConfig(e.transport,t);try{const t=await this.deleteRepoRequest(e.name,n,r);if(t?.headers?.["sap-message"]){const e=JSON.parse(t.headers["sap-message"]);s.prettyPrintMessage(e,this.log)}return t}catch(e){throw this.logError(e),e}}getAbapFrontendUrl(e){return a.abapUrlReplaceMap.forEach(((t,n)=>{e=e.replace(n,t)})),e}createConfig(e,t=!1,n=!0){const r={CodePage:"'UTF8'",CondenseMessagesInHttpResponseHeader:"X",format:"json"};e&&(r.TransportRequest=e),r.TestMode=t,r.SafeMode=n;return{headers:{"Content-Type":"application/atom+xml",type:"entry",charset:"UTF8"},params:r,maxBodyLength:Infinity,maxContentLength:Infinity}}createPayload(e,t,n,r,s){const a=i.readFileSync(e,{encoding:"base64"}),o=(new Date).toISOString();return`<entry xmlns="http://www.w3.org/2005/Atom"       xmlns:m="http://schemas.microsoft.com/ado/2007/08/dataservices/metadata"       xmlns:d="http://schemas.microsoft.com/ado/2007/08/dataservices"       xml:base="${s.defaults.baseURL}">  <id>${s.defaults.baseURL}/Repositories('${t}')</id>  <title type="text">Repositories('${t}')</title>  <updated>${o}</updated>  <category term="/UI5/ABAP_REPOSITORY_SRV.Repository" scheme="http://schemas.microsoft.com/ado/2007/08/dataservices/scheme"/>  <link href="Repositories('${t}')" rel="edit" title="Repository"/>  <content type="application/xml">    <m:properties>      <d:Name>${t}</d:Name>      <d:Package>${r?.toUpperCase()}</d:Package>      <d:Description>${n}</d:Description>      <d:ZipArchive>${a}</d:ZipArchive>      <d:Info/>    </m:properties>  </content></entry>`}async updateRepoRequest(e,t,n,r,i,s=1){try{if(2===s&&this.log.warn("Warning: The application was deployed despite a time out response from the backend. Increasing the value of the HTML5.Timeout property for the destination may solve the issue"),1!==s&&!e&&void 0!==await this.getInfo(t))return;return e?await n.put(`/Repositories('${encodeURIComponent(t)}')`,r,i):await n.post("/Repositories",r,i)}catch(a){if(504===a?.response?.status){if(s>=3)throw a;return await this.updateRepoRequest(e,t,n,r,i,++s)}if(i?.params?.TestMode)return a.response;throw a}}async deleteRepoRequest(e,t,n,r=1){try{return 2===r&&this.log.warn("Warning: retry undeploy to handle a backend rejection..."),await t.delete(`/Repositories('${encodeURIComponent(e)}')`,n)}catch(i){if(400===i?.response?.status){if(r>=2)throw i;return await this.deleteRepoRequest(e,t,n,++r)}throw i}}}t.Ui5AbapRepository=Ui5AbapRepository},8420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SystemInfo="fiori/system/info",e.RefreshToken="fiori/system/refreshToken",e.ApiHub="fiori/system/apiHub"}(t.ServiceName||(t.ServiceName={}));var r=n(89389);t.AuthenticationType=r.AuthenticationType,function(e){e.WebIDEUsage="WebIDEUsage",e.WebIDEEnabled="WebIDEEnabled",e.WebIDESystem="WebIDESystem",e.SapClient="sap-client",e.WebIDEAdditionalData="WebIDEAdditionalData",e.HTML5ForwardAuthToken="HTML5.ForwardAuthToken",e.HTML5Timeout="HTML5.Timeout",e.HTML5PreserveHostHeader="HTML5.PreserveHostHeader",e.HTML5DynamicDestination="HTML5.DynamicDestination",e.HTML5SetXForwardedHeaders="HTML5.SetXForwardedHeaders",e.TrustAll="TrustAll"}(t.DestinationProperties||(t.DestinationProperties={})),t.DestinationAttributeProperty={ODATA_GENERIC:"odata_gen",FULL_URL:"full_url",ODATA_ABAP:"odata_abap",DEV_ABAP:"dev_abap",ABAP_CLOUD:"abap_cloud"},t.destinationPropertyId=Object.keys(t.DestinationAttributeProperty),t.hasDestinationAttrib=function(e,t,n={}){return(n&&n[e]?.includes(t))??!1},t.hasFullUrlDestAttribute=function(e){return(e&&e.WebIDEAdditionalData?.includes(t.DestinationAttributeProperty.FULL_URL))??!1}},16136:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.requestHeaderName="X-Csrf-Token",e.requestHeaderValue="Fetch",e.responseHeaderName="x-csrf-token"}(t.CSRF||(t.CSRF={}))},50880:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(94486)),s=n(16136),a=r(n(10146)),o=r(n(13685)),c=r(n(95687)),l=n(21880),u=n(99343),d=n(78285),p=n(81247),f=n(16711);class ABAPSystem{static uiHostname(e){const[t,...n]=e.split(".");return[t.replace("-api",""),...n].join(".")}static apiHostname(e){const[t,...n]=e.split(".");return t.match(/.*-api$/)?e:[t+"-api",...n].join(".")}static logoffUrl(e){return this.uiHostname(e)+"/sap/public/bc/icf/logoff"}}t.connectWithReentranceTicket=async function({target:e,ignoreCertError:t=!1,logger:n=console}){const r=await async function({backendUrl:e,logger:t,timeout:n=u.timeoutMs}){return new Promise(((r,i)=>{const s=a.default(),c=o.default.createServer(s),p=()=>{c.close(),i(new l.TimeoutError(`Timeout. Did not get a response within ${u.timeString(n)}`))};class Redirect{static url(e){return"http://localhost:"+e+Redirect.path}}Redirect.path="/redirect";const g=setTimeout(p,n);s.get(Redirect.path,((n,i)=>{const s=n.query["reentrance-ticket"]?.toString();t.info("Got reentrance ticket: "+s),i.set("Content-Type","text/html"),i.send(Buffer.from(d.redirectSuccessHtml(ABAPSystem.logoffUrl(e)))),g&&clearTimeout(g),c.close(),r(s)})),c.listen();const h=c.address().port,y=`${ABAPSystem.uiHostname(e)}${m}?redirect-url=${Redirect.url(h)}`;f(y)}))}({backendUrl:e.url,logger:n}),g=await i.default.get(ABAPSystem.apiHostname(e.url)+e.service+"/",{params:{},headers:{MYSAPSSO2:r,[s.CSRF.requestHeaderName]:s.CSRF.requestHeaderValue},httpsAgent:new c.default.Agent({rejectUnauthorized:!t})});return{cookies:(new p.Cookies).setCookie(g),xsrfToken:g.headers[s.CSRF.responseHeaderName]}};const m="/sap/bc/adt/core/http/reentranceticket"},83549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Cookies=class Cookies{constructor(){this.cookies={}}setCookie(e){return e?.headers?.["set-cookie"]&&e.headers["set-cookie"].forEach((e=>this.addCookie(e))),this}addCookie(e){const t=e.split(";"),[,n,r]=t[0].match(/(.*?)=(.*)/);return e.indexOf("Max-Age=0")>=0?delete this.cookies[n]:n&&r&&(this.cookies[n]=r),this}toString(){const e=[];return Object.keys(this.cookies).forEach((t=>{e.push(`${t}=${this.cookies[t]}`)})),e.join("; ")}}},41785:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(94486)),s=n(8420),a=n(43895),o=n(75836);async function c(){const e={};await i.default.get(a.getAppStudioProxyURL()+"/reload");return(await i.default.get(a.getAppStudioBaseURL()+"/api/listDestinations"))?.data?.forEach((t=>{t.WebIDEEnabled&&(e[t.Name]=t)})),e}async function l(e,t,n){e.originalUrl=e.url,t&&n?(e.url=`https://${t}.dest`,e.basDestinationInstanceCred=await async function(e){try{const t=(await o.apiGetInstanceCredentials(e)).credentials,n=t.uaa?.clientid||t.clientid,r=t.uaa?.clientsecret||t.clientsecret;return Buffer.from(`${encodeURIComponent(n)}:${encodeURIComponent(r)}`).toString("base64")}catch(t){throw new Error(`An error occurred while retrieving service key for the destination instance ${e}: ${t}`)}}(n)):(e.url=a.getAppStudioBaseURL(),e.service=`/destinations/${t??e.destination}${e.service?.replace(/^\/?/,"/")??""}`),delete e.scp,delete e.client}t.listDestinations=async function(){return a.isAppStudio()?c():{}},t.replaceUrlForAppStudio=l,t.updateSystemConfig=async function(e){if(a.isAppStudio()&&e.destination)if(e.destinationInstance)await l(e,e.destination,e.destinationInstance);else{const t=await c();if(t[e.destination]){const n=t[e.destination];e.destinationAuthType=n.Authentication,s.hasFullUrlDestAttribute({WebIDEAdditionalData:n.WebIDEAdditionalData})&&(e.isDestinationFullUrl=!0,e.destinationServiceUrl=new URL(n.Host).pathname),e.isDestinationFullUrl&&delete e.service,await l(e,n.Name)}}}},21880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(74969);class ConnectionError extends r.BaseError{constructor(e,t){super(e,t),this.name=this.constructor.name}}t.ConnectionError=ConnectionError;class TimeoutError extends r.BaseError{constructor(e,t){super(e,t),this.name=this.constructor.name}}t.TimeoutError=TimeoutError;t.UAATimeoutError=class UAATimeoutError extends TimeoutError{constructor(e,t){super(e,t),this.name=this.constructor.name}}},81247:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(94486)),a=n(83549);t.Cookies=a.Cookies;const o=n(8420),c=n(43895),l=n(48269),u=i(n(95687)),d=n(57310),p=n(16136),f=n(50880),m=i(n(68978));async function g({target:e,credentials:n,autoAddTrailingSlash:r=!0,timeout:i,ignoreCertError:o=!1,logger:l=console}){const f=new d.URL(e.service,e.url).toString(),m=!!n?.username?.length,g={params:{},headers:{[p.CSRF.requestHeaderName]:p.CSRF.requestHeaderValue},withCredentials:m,httpsAgent:new u.default.Agent({rejectUnauthorized:!o})};if(m&&(g.auth=n),"number"==typeof i&&i>0){const e=s.default.CancelToken.source();setTimeout((()=>{e.cancel("CONNECT_TIMEOUT")}),i),g.cancelToken=e.token}e.params&&Object.assign(g.params,e.params),e.client&&(g.params[t.SAP_CLIENT]=e.client);const y=c.isAppStudio()&&e.destination;y&&(g.params.saml2="disabled");const A=!f?.endsWith("/")&&r?`${f}/`:f;g?.auth&&Object.keys(g.auth).length>0?g.withCredentials=!0:(delete g.auth,g.withCredentials=!1);let S=await s.default.get(A,g);return!y&&function(e){return 200===e?.status&&h(e)&&"string"==typeof e.data&&!!e.data.match(/saml/i)}(S)&&(l.warn("Disabling SAML2. Falling back to basic authentication"),g.params.saml2="disabled",S=await s.default.get(A,g)),function(e){if(200!==e?.status)return;if("ICFLOGONREQUIRED"===e.headers["sap-err-id"]||function(e){return h(e)&&"string"==typeof e.data&&!!e.data.match(/log[io]n/i)}(e)){const e=new Error;throw e.response={status:401},e.isAxiosError=!0,e.toJSON=()=>({status:401}),e}}(S),{auth:g.auth,cookies:(new a.Cookies).setCookie(S),xsrfToken:S.headers[p.CSRF.responseHeaderName]}}function h(e){return(t=e.headers["content-type"],n=e.data,t?t.toLowerCase():"string"==typeof n?m.default(Buffer.from(n))?.toLowerCase()??"":"").startsWith("text/html");var t,n}t.SAP_CLIENT="sap-client",t.connect=async function({target:e,credentials:t,log:n,autoAddTrailingSlash:r=!0,timeout:i,ignoreCertError:s=!1,postConnectionCallback:a}){const c=e.authenticationType;return c===o.AuthenticationType.OAuth2RefreshToken?l.connectUsingUaa({target:e,credentials:t,log:n,postConnectionCallback:a}):c===o.AuthenticationType.OAuth2ClientCredential?l.connectUsingUaaClientCredential({target:e,credentials:t,log:n}):c===o.AuthenticationType.ReentranceTicket?f.connectWithReentranceTicket({target:e,logger:n,ignoreCertError:s}):g({target:e,credentials:t,autoAddTrailingSlash:r,timeout:i,ignoreCertError:s,logger:n})},r(n(41785)),r(n(21880))},48269:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(16711),s=r(n(13685)),a=r(n(94486)),o=r(n(10146)),c=n(57147),l=n(81247),u=n(16136),d=n(78285),p=n(21880),f=r(n(5434)),m=n(99343);class Redirect{constructor(e){this.port=e}url(){return`http://localhost:${this.port}${Redirect.path}`}}async function g(e,t){const n=await a.default.request(e.getUserinfoRequest(t));return n?.data?.email||n?.data?.name}Redirect.path="/oauth/client/redirect";class Uaa{constructor(e){this.validatePropertyExists(e.uaa.clientid,"Client ID missing"),this.validatePropertyExists(e.uaa.clientsecret,"Client Secret missing"),this.validatePropertyExists(e.uaa.url,"UAA URL missing"),this.serviceInfo=e}validatePropertyExists(e,t){if(!e)throw Error(t)}get url(){return this.serviceInfo.uaa.url}get clientid(){return this.serviceInfo.uaa.clientid}get clientsecret(){return this.serviceInfo.uaa.clientsecret}get username(){return this.serviceInfo.uaa.username}get password(){return this.serviceInfo.uaa.password}get logoutUrl(){return this.url+"/logout.do"}get systemId(){return this.serviceInfo.systemid}getAuthCodeUrl({redirectUri:e}){return this.url+"/oauth/authorize?"+f.default.stringify({response_type:"code",redirect_uri:e,client_id:this.clientid})}getTokenRequestForAuthCode({redirectUri:e,authCode:t}){return{url:this.url+"/oauth/token",auth:{username:this.clientid,password:this.clientsecret},method:"POST",data:f.default.stringify({code:t,grant_type:"authorization_code",redirect_uri:e,response_type:"token"}),headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}}getAccessTokenRequestUsingClientCredential(){return{url:this.url,method:"POST",data:f.default.stringify({grant_type:"password",username:this.username,password:this.password}),headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json",Authorization:`Basic ${Buffer.from(this.clientid+":"+this.clientsecret).toString("base64")}`}}}getTokenRequestForRefreshToken(e){return{url:this.url+"/oauth/token",auth:{username:this.clientid,password:this.clientsecret},method:"POST",data:f.default.stringify({grant_type:"refresh_token",refresh_token:e}),headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}}getUserinfoRequest(e){return{url:this.url+"/userinfo",method:"GET",headers:{authorization:`bearer ${e}`}}}}function h(e){try{return e.serviceKeysContents?"string"==typeof e.serviceKeyContents?JSON.parse(e.serviceKeysContents):e.serviceKeysContents:JSON.parse(c.readFileSync(e.serviceKeys,"utf-8"))}catch(e){throw new Error("Error parsing service keys")}}t.getServiceInfo=h,t.defaultUtils={serviceInfo:h,connection:async function(e,t){const n=`${e.url}${e.service}${e.client?"?sap-client="+e.client:""}`,r=await a.default.get(n,{headers:{authorization:`bearer ${t}`,[u.CSRF.requestHeaderName]:u.CSRF.requestHeaderValue}});return{cookies:(new l.Cookies).setCookie(r),xsrfToken:r.headers?.[u.CSRF.responseHeaderName]}},accessToken:async function({uaa:e,log:t,postConnectionCallback:n,refreshToken:r}){let c,l,u=!1;if(r){t.info("Refresh token passed in");const n=e.getTokenRequestForRefreshToken(r);try{c=await a.default.request(n),401===c.status||"invalid_token"===c.data.error?(u=!0,t.warn("Cannot use stored refresh token. Starting fresh request")):r!==c.data.refresh_token&&(t.info("New refresh token issued"),l=c.data.refresh_token)}catch(e){u=!0}}if(!r||u){const{authCode:n,redirect:r}=await function({uaa:e,log:t,timeout:n=m.timeoutMs}){return new Promise(((r,a)=>{const c=o.default(),l=s.default.createServer(c);let u;const f=setTimeout((()=>{l.close(),a(new p.UAATimeoutError(`Timeout. Did not get a response within ${m.timeString(n)}`))}),n);c.get(Redirect.path,((n,i)=>{i.set("Content-Type","text/html"),i.send(Buffer.from(d.redirectSuccessHtml(e.logoutUrl,e.systemId))),t.info("Got authCode"),r({authCode:n.query.code+"",redirect:u}),f&&clearTimeout(f),l.close()})),l.listen(),u=new Redirect(l.address().port);const g=e.getAuthCodeUrl({redirectUri:u.url()});i(g)}))}({uaa:e,log:t}),u=e.getTokenRequestForAuthCode({redirectUri:r.url(),authCode:n});c=await a.default.request(u),t.info("Storing refresh token"),l=c.data.refresh_token}return n&&await async function({log:e,uaa:t,accessToken:n,postConnectionCallback:r,newRefreshToken:i}){if(!r.sync)return async function({log:e,uaa:t,accessToken:n,updateFunction:r,newRefreshToken:i,fetchUserInfo:s}){if(i){e.info("Trying to save refreshToken");try{await r({refreshToken:i})}catch(t){e.warn(t.message)}}s&&(e.info("Scheduling user info fetch"),setTimeout((async()=>{try{e.info("Fetching user info");const i=await g(t,n);e.info(`Username: [${i}]`),i&&(e.info("Trying to update user name in system details"),await r({user:i}))}catch(t){e.warn(t.message)}}),1))}({log:e,uaa:t,accessToken:n,updateFunction:r.fn,fetchUserInfo:r.updateUserInfo,newRefreshToken:i});try{let e;r.updateUserInfo&&(e=await g(t,n)),r.fn({user:e,refreshToken:i})}catch(t){e.warn(t)}}({log:t,uaa:e,accessToken:c.data.access_token,postConnectionCallback:n,newRefreshToken:l}),t.info("Got access token successfully"),c?.data?.access_token},accessTokenByUaaClientCredential:async function({uaa:e,log:t}){try{const n=e.getAccessTokenRequestUsingClientCredential(),r=await a.default.request(n);return t.info("Receiving response from OAuth2 Client Credential grant type"),r.data.access_token}catch(e){if(e instanceof p.ConnectionError)throw e;throw new p.ConnectionError(e.message,e)}}},t.connectUsingUaa=async function({target:e,credentials:n,log:r=console,uaaUtils:i=t.defaultUtils,postConnectionCallback:s}){try{const t=new Uaa(n.serviceInfo||i.serviceInfo(n)),a=await i.accessToken({uaa:t,log:r,postConnectionCallback:s,refreshToken:n.refreshToken});return await i.connection(e,a)}catch(e){if(r.error(e.message),e instanceof p.ConnectionError)throw e;throw new p.ConnectionError(e.message,e)}},t.connectUsingUaaClientCredential=async function({target:e,credentials:n,log:r=console,uaaUtils:i=t.defaultUtils}){let s;try{const e=new Uaa(n.serviceInfo);s=await i.accessTokenByUaaClientCredential({uaa:e,log:r})}catch(e){if(r.error(`Failed to obtain OAuth2 access token: ${e.message}`),e instanceof p.ConnectionError)throw e;throw new p.ConnectionError(e.message,e)}try{return await i.connection(e,s)}catch(e){if(r.error(e.message),e instanceof p.ConnectionError)throw e;throw new p.ConnectionError(e.message,e)}}},99343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutMs=6e4,t.timeString=(e=t.timeoutMs)=>{const n=e/60/1e3;return n>1?`${n} minutes`:1===n?"1 minute":e/1e3+" seconds"}},45116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_HUB_API_KEY="API_HUB_API_KEY",t.abapUrlReplaceMap=new Map([[/\.abap\./,".abap-web."],[/-api.s4hana.ondemand.com/,".s4hana.ondemand.com"],[/-api.saps4hanacloud.cn/,".saps4hanacloud.cn"]]),t.DEFAULT_SERVICE_PATH="/sap/opu/odata/UI5/ABAP_REPOSITORY_SRV"},74969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class BaseError extends Error{constructor(e,t){super(e),this.cause=t}}t.BaseError=BaseError;t.UnknownSystemAuthenticationType=class UnknownSystemAuthenticationType extends BaseError{constructor(e,t){super(`Unknown authenication type: [${e}]`,t),this.name=this.constructor.name}}},77090:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(21148)),r(n(83835)),r(n(8420)),r(n(81247)),r(n(26770)),r(n(36828))},78285:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalRootCaPem="\n-----BEGIN CERTIFICATE-----\n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\n-----END CERTIFICATE-----\n",t.redirectSuccessHtml=(e,t)=>`\n<html>\n\n<head>\n    <meta http-equiv="content-type" content="text/html; charset=windows-1252">\n    <title>${t?t+": ":""}Authentication Successful</title>\n    <style>\n        body {\n            background: #ffffff;\n            text-align: center;\n            width: 100%;\n            height: 100%;\n            overflow: hidden;\n        }\n\n        .content {\n            display: table;\n            position: absolute;\n            width: 100%;\n            height: 80%;\n        }\n\n        .valigned {\n            display: table-cell;\n            vertical-align: middle;\n        }\n\n        .lowerCenter {\n            display: table-cell;\n            vertical-align: bottom;\n        }\n\n        .footer {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            width: 100%;\n            z-index: -1;\n        }\n\n        .footerLeft {\n            float: left;\n            margin-left: 20px;\n        }\n\n        .footerRight {\n            float: right;\n            margin-right: 20px;\n            position: absolute;\n            bottom: 0px;\n            right: 0px;\n        }\n\n        .centerText {\n            font-style: normal;\n            font-family: Arial;\n            font-size: 26px;\n            color: #444444;\n            z-index: 1;\n        }\n        .centerLink {\n            font-style: normal;\n            font-family: Arial, Helvetica, sans-serif;\n            font-size: 18px;\n            text-decoration: none;\n            color: #224679;\n        }\n\n        .errorTextHeader {\n            font-style: normal;\n            font-family: Arial;\n            font-size: 40px;\n            color: #444444;\n        }\n\n        .bottomText {\n            align: center;\n            font-style: normal;\n            font-family: Arial;\n            font-size: 14px;\n            color: #444444;\n        }\n\n        .biggerBottomText {\n            align: center;\n            font-style: normal;\n            font-family: Arial;\n            font-size: 16px;\n            color: #444444;\n        }\n\n        .detailTable {\n            align: bottom;\n            vertical-align: middle;\n            margin-left: auto;\n            margin-right: auto;\n            font-style: normal;\n            font-family: Arial;\n            font-size: 16px;\n            color: #444444;\n        }\n    </style>\n</head>\n\n<body>\n    <div class="content">\n        <div class="valigned">\n            <p class="centerText"><span class="errorTextHeader">You can close this tab now.</span></p>\n            ${e?'<a class="centerLink" href="'+e+'">(Click here to log off the current user)</a>':""}\n        </div>\n    </div>\n    <div class="footer">\n        <div class="footerLeft"><img width='150' height='80' title='' alt='SAP logo'\n                src='data:image/png;base64,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'>\n        </div>\n        <div class="footerRight">\n            <p class="bottomText"><span class="biggerBottomText">&copy;</span>2020 SAP SE, All rights reserved.</p>\n        </div>\n    </div>\n</body>\n\n</html>\n`},36828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(81247),i=n(43895),s=n(36455);t.SapSystem=s.SapSystem;const a=n(99184),o=n(57310),c=n(77090);function l(e){if(!e.isScp())return;let t;return t=e.unSaved?{sync:!0,updateUserInfo:!e.userDisplayName,fn:({user:t,refreshToken:n})=>{t&&e.setUserDisplayName.bind(e)(t),n&&e.setRefreshToken.bind(e)(n)}}:{sync:!1,updateUserInfo:!e.userDisplayName,fn:async({user:t,refreshToken:n})=>{if(t||n){const r={};return t&&(r.userDisplayName=t),n&&(r.refreshToken=n),(await a.getSystemStore()).partialUpdate({url:e.url,client:e.client,update:r})}}},t}function u(e,t,n,r,i=!1){const a=i?r?.username:void 0;return new s.SapSystem(e,{url:t,client:n},r,a,i,l)}t.listSAPSystems=async function(){if(i.isAppStudio()){const e={},t=await r.listDestinations();return Object.values(t).sort(((e,t)=>e.Name.localeCompare(t.Name,void 0,{numeric:!0,caseFirst:"lower"}))).forEach((t=>{e[t.Name]=new s.SapSystem(t.Name,{url:t.Host,destination:t.Name,destinationAuthType:t.Authentication,scp:t.WebIDEUsage?.includes("abap_cloud")??!1,destinationAttributes:Object.assign({},t),client:t["sap-client"]})})),e}{const e=await a.getSystemStore();return function({systems:e,store:t}){const n=[];Object.values(e).forEach((e=>{e.isScp()?e.postConnectionCallbackCreator=l:!e.userDisplayName&&e.username&&(e.setUserDisplayName(e.username),n.push(e))})),n.length>0&&async function({systems:e,store:t}){return new Promise((n=>setTimeout((async()=>{const r=[];for(const n of e)r.push(t.partialUpdate({url:n.url,client:n.client,update:{userDisplayName:n.userDisplayName}}));await i.allSettled(r),n()}),0)))}({systems:n,store:t}).catch();return e}({systems:await e.getAll(),store:e})}},t.isSystemNameInUse=async function(e){const t=await(await a.getSystemStore()).getAll(),n=e.trim();return-1!==Object.values(t).findIndex((e=>e.name===n||e.bareName===s.stripOldSCPSuffix(n)))},t.getSapSystem=async function(e,t){if(i.isAppStudio())throw Error("Not supported in AppStudio.");return(await a.getSystemStore()).get(e,t)},t.newSapSystem=u,t.newSapSystemForServiceUrl=function(e){const t=new o.URL(e);return{system:u("temp",t.origin,t.searchParams.get("sap-client")),servicePath:t.pathname,search:t.search}},t.newSapSystemForSteampunk=function(e,t,n=!1){const r="string"==typeof t?JSON.parse(t):t,i={url:r.url,scp:!0};return new s.SapSystem(e,i,{serviceKeysContents:r},void 0,n,l)},t.newS4HCSystem=function({name:e,url:t,unSaved:n=!1}){return new s.SapSystem(e,{url:t,authenticationType:c.AuthenticationType.ReentranceTicket},void 0,void 0,n,l)},t.newSapSystemForDestinaton=function({destination:e,destinationInstance:t,destinationAuthType:n,credentials:r}){return new s.SapSystem(e,{destination:e,destinationAuthType:n,destinationInstance:t},r,void 0,!1)},t.saveSapSystem=async function(e){const t=await a.getSystemStore();await t.save(e)},t.deleteSapSystem=async function(e){return(await a.getSystemStore()).delete(e)}},36455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(89389),i=n(77090),s=n(21148),a=n(8420),o=n(43895),c=n(40867),l=" (BTP)";class SapSystem{constructor(e,t,n={},r,i=!1,s){this.config=t,this.credentials=n,this._unSaved=!1,this.postConnectionCallbackInitialized=!1,this._name=e,void 0===this.config.scp&&(this.config.scp=!!n?.serviceKeysContents||!!n?.serviceKeys),this._unSaved=i,this._userDisplayName=r,this._postConnectionCallbackCreator=s}postConnectionCallback(){return this.postConnectionCallbackInitialized||(this._postConnectionCallback=this._postConnectionCallbackCreator?.(this),this.postConnectionCallbackInitialized=!0),this._postConnectionCallback}static fromSerialized(e){const t=e.serviceKeys||e.username||e.password?{serviceKeysContents:e.serviceKeys,username:e.username,password:e.password,refreshToken:e.refreshToken}:void 0,n=Object.values(r.AuthenticationType).find((t=>t===e.authenticationType))||i.guessAuthType({credentials:t,fallback:!1});return new SapSystem(e.name,{url:e.url,client:e.client,authenticationType:n},t,e.userDisplayName)}clone(){return SapSystem.fromSerialized(this.serialize())}get refreshToken(){return this.credentials?.refreshToken}set refreshToken(e){this.credentials=Object.assign(this.credentials||{},{refreshToken:e})}get name(){return this._name}set name(e){this._name=e}get username(){return this.credentials?.username}get password(){return this.credentials?.password}get serviceKeys(){return this.credentials?.serviceKeysContents}get unSaved(){return this._unSaved}set unSaved(e){this._unSaved=e}get url(){return this.config.url}get client(){return this.config.client}get userDisplayName(){return this._userDisplayName}set postConnectionCallbackCreator(e){this._postConnectionCallbackCreator=e,this.postConnectionCallbackInitialized=!1,this._postConnectionCallback=void 0}get postConnectionCallbackCreator(){return this._postConnectionCallbackCreator}getDisplayName({includeUserName:e}={includeUserName:!0}){const t=e&&this.userDisplayName?` [${this.userDisplayName}]`:"";let n;return n=this.isScp()?function(e){const t=e.trim();return t.match(`${o.escapeRegExp(l)}$`)?t:t+l}(this.name):this.isS4HC()?this.addS4HCSuffix(this.name):this.name,n+t}isOnPremSystem(){return this.config?.authenticationType===r.AuthenticationType.Basic||0!==Object.keys(this.credentials).length&&!(this.isScp()||this.isS4HC())}isS4HC(){return this.config?.authenticationType===r.AuthenticationType.ReentranceTicket}addS4HCSuffix(e){const t=" (S4HC)";return e?.trim().match(`${o.escapeRegExp(t)}$`)?e:e+t}get bareName(){return u(this.name)}isScp(){return this.config.scp}isPartialUrlDest(){return!a.hasDestinationAttrib("WebIDEAdditionalData",a.DestinationAttributeProperty.FULL_URL,this.config.destinationAttributes)&&this.isGenericODataDest()}isGenericODataDest(){return!!this.config.destination&&(a.hasDestinationAttrib("WebIDEUsage",a.DestinationAttributeProperty.ODATA_GENERIC,this.config.destinationAttributes)&&!a.hasDestinationAttrib("WebIDEUsage",a.DestinationAttributeProperty.ODATA_ABAP,this.config.destinationAttributes))}isFullUrlDest(){return!!this.config.destination&&(a.hasDestinationAttrib("WebIDEAdditionalData",a.DestinationAttributeProperty.FULL_URL,this.config.destinationAttributes)&&this.isGenericODataDest())}isAbapCatalogDest(){return!!this.config.destination&&(a.hasDestinationAttrib("WebIDEUsage",a.DestinationAttributeProperty.ODATA_ABAP,this.config.destinationAttributes)&&!this.isFullUrlDest())}toString(){return this.config?.destination||(()=>{const e=this.config?.url?.trim();if(e){return e+(this.config?.client?`?sap-client=${this.config.client}`:"")}})()||this.getDisplayName()||""}serialize(){return new r.BackendSystem({name:this._name,url:this.config?.url,client:this.config?.client,authenticationType:this.config?.authenticationType,serviceKeys:this.credentials?.serviceKeysContents,refreshToken:this.refreshToken,username:this.credentials?.username,password:this.credentials?.password,userDisplayName:this.userDisplayName})}async getService(e){const t=d(this.config);if(t.service=e,this.connection)return new s.ODataClient({system:t,connection:this.connection,postConnectionCallback:this.postConnectionCallback()});{const e=new s.ODataClient({system:t,credentials:this.credentials,postConnectionCallback:this.postConnectionCallback()});return this.connection=await e.getConnection(),e}}setUserDisplayName(e){this._userDisplayName=e}setRefreshToken(e){this.refreshToken=e}async getCatalog(e){const t=d(this.config);if(this.connection)return s.getCatalog({system:t,connection:this.connection,odataVersion:e,postConnectionCallback:this.postConnectionCallback()});{const n=s.getCatalog({system:t,credentials:this.credentials,odataVersion:e,postConnectionCallback:this.postConnectionCallback()});return this.connection=await n.getConnection(),n}}async getUi5Repository(e=console,t){const n=d(this.config);if(this.connection)return new s.Ui5AbapRepository({system:n,connection:this.connection,log:e,ignoreCertError:t,postConnectionCallback:this.postConnectionCallback()});{const r=new s.Ui5AbapRepository({system:n,credentials:this.credentials,log:e,ignoreCertError:t,postConnectionCallback:this.postConnectionCallback()});return this.connection=await r.getConnection(),r}}setCredentials(e){this.credentials=e}isSameSystem(e,t){return this.url?.trim()?.replace(/\/$/,"")===e?.trim()?.replace(/\/$/,"")&&this.client===t}getSystemForExport(){return{name:this.name,type:this.isScp()?c.SystemType.Cloud:c.SystemType.OnPremise,url:this.url,client:this.client}}}function u(e){return e.trim().replace(/ \(SCP\)$/,"")}function d(e){return JSON.parse(JSON.stringify(e))}t.SapSystem=SapSystem,t.stripOldSCPSuffix=u},99184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(36455),i=n(89389);class DefaultImplementation{constructor(e,t){this.logger=t,this.storeService=e}static async createInstance(e){const t=await i.getService({logger:e,entityName:"system"});return new DefaultImplementation(t,e)}async getAll(){return(await this.storeService.getAll()||[]).map((e=>r.SapSystem.fromSerialized(e))).sort(((e,t)=>e.getDisplayName({includeUserName:!1}).localeCompare(t.getDisplayName({includeUserName:!1}),void 0,{numeric:!0,caseFirst:"lower"}))).reduce(((e,t)=>(e[t.name]=t,e)),{})}async get(e,t){const n=await this.storeService.read(new i.BackendSystemKey({url:e,client:t}));return n&&Object.keys(n).length>0?r.SapSystem.fromSerialized(n):void 0}async save(e){"function"!=typeof e?.serialize?this.logger.warn("system does not have a serialize method, unable to save"):await this.storeService.write(e.serialize())}async delete(e){if("function"==typeof e?.serialize)return this.storeService.delete(e.serialize());this.logger.warn("system does not have a serialize method, unable to delete")}async partialUpdate({url:e,client:t,update:n}){await this.storeService.partialUpdate(new i.BackendSystemKey({url:e,client:t}),n)}}t.getSystemStore=async(e=console)=>DefaultImplementation.createInstance(e)},40867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OnPremise="abap_onpremise",e.Cloud="abap_btp"}(t.SystemType||(t.SystemType={}))},83835:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(64003)),s=n(8420),a=n(77090);t.xmlToJson=function(e){if(!e||!0!==i.default.validate(e))return;const t={attributeNamePrefix:"",ignoreAttributes:!1,ignoreNameSpace:!0,parseAttributeValue:!0},n=i.default.getTraversalObj(e,t);return i.default.convertToJson(n,t)},t.guessAuthType=function({credentials:e,fallback:t=!1}){let n=e?.serviceKeys||e?.serviceKeysContents?s.AuthenticationType.OAuth2RefreshToken:void 0;return!n&&e&&e.serviceInfo?.uaa?.username&&(n=s.AuthenticationType.OAuth2ClientCredential),!n&&t&&(n=s.AuthenticationType.Basic),n},t.getOnPremSystem=async function(e,t=!1){let n=await a.getSapSystem(e.url,e.client),r=!1;const i={username:e.credentials?.systemUsername,password:e.credentials?.systemPassword};return n?t||(n.name=e.name||"",n.setCredentials(i)):(n=a.newSapSystem(e.name||"",e.url,e.client,i,!0),r=!0),{sapSystem:n,isNewSapSystem:r}},t.getBTPSystem=async function(e,t){let n,r=!1;if(e.url&&e.credentials===t&&(n=await a.getSapSystem(e.url,e.client)),n)n.name=e.name||"";else{const t=a.newSapSystemForSteampunk(e.name||"",e.credentials,!0);n=await a.getSapSystem(t.url,t.client),n||(r=!0,n=t)}return{sapSystem:n,isNewSapSystem:r}},t.isSystemNameValid=async function(e,t){if(!e)return!1;let n=!0;return await a.isSystemNameInUse(e)&&e!==t&&(n=!1),n},t.isSapSystemConnected=async function(e){const t=[a.ODataVersion.v2,a.ODataVersion.v4],n={};let r;for(const i of t)try{const t=await e.getCatalog(i),r=await t.listServices(!0);n[i]=0!==r.length}catch(e){n[i]=!1,r=e.message}return{v2:n[a.ODataVersion.v2],v4:n[a.ODataVersion.v4],error:r}}},78702:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(57147)),s=n(71017),a=n(78844),o=n(75764);async function c(e){return new Promise(((t,n)=>{i.readFile(e,{encoding:"utf8"},((e,r)=>{e?n(e):t(r)}))}))}async function l(e){return new Promise(((t,n)=>{i.unlink(e,(e=>{e?n(e):t()}))}))}async function u(e,t){return null==t?l(e):new Promise(((n,r)=>{i.writeFile(e,t,{encoding:"utf8"},(e=>{e?r(e):n()}))}))}async function d(e){return new Promise(((t,n)=>{i.readdir(e,{encoding:"utf8"},((e,r)=>{e?n(e):t(r)}))}))}async function p(e){return new Promise((t=>{i.exists(e,(e=>{t(e)}))}))}async function f(e){return new Promise(((t,n)=>{i.stat(e,((e,r)=>{e?n(e):t(r.isDirectory())}))}))}t.readFile=c,t.readJSON=async function(e){return JSON.parse(await c(e))},t.deleteFile=l,t.updateFile=u,t.updateJSON=async function(e,t){await u(e,t?JSON.stringify(t,null,4):null)},t.readDirectory=d,t.createDirectory=async function(e){return new Promise(((t,n)=>{i.mkdir(e,(e=>{e?n(e):t()}))}))},t.fileExists=p,t.isDirectory=f,t.deleteDirectory=async function e(t){if(await p(t)){const n=await d(t);for(const r of n){const n=s.join(t,r);await f(n)?await e(n):await l(n)}return new Promise(((e,n)=>{i.rmdir(t,(t=>{t?n():e()}))}))}},t.moveFile=async function(e,t){return new Promise(((n,r)=>{i.rename(e,t,(e=>{e?r(e):n()}))}))},t.fsPathToFtfsPath=function(e){let t=e.replace(/\\/g,"/");return s.posix.isAbsolute(t)||(t=`/${t}`),a.URI.parse(`${o.SchemeName.Ftfs}:${t}`).toString()}},98933:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(73577)),s=r(n(47473));t.i18n=i.default.createInstance(),t.initI18n=async function(){await t.i18n.init({resources:{en:{translation:s.default}},lng:"en",fallbackLng:"en",joinArrays:"\n\n"})}},91029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(78256);t.findMockServiceByMetadataPath=r.findMockServiceByMetadataPath,t.getMockServerConfig=r.getMockServerConfig,t.getMockServicesConfiguration=r.getMockServicesConfiguration},78256:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(71017),s=n(75764),a=n(12607),o=n(98933),c=n(78702);function l(e,t){const{metadataXmlPath:n}=e;return!!n&&t.endsWith(i.normalize(n))}t.getMockServerConfig=async function(e,t=s.FileName.Ui5MockYaml){const n=(await a.getParsedUi5YamlConfig(e,t))?.server?.customMiddleware;if(n){let e;const t="sap-fe-mockserver";if(Array.isArray(n))return e=n.find((e=>e.name===t)),e?.configuration||null;const r=n;return r.name===t&&(e=r),e?.configuration||null}return null},t.getMockServicesConfiguration=async function(e,t){const{mockFolder:a}=t;if(a){return{services:await async function(e,t){const a=i.resolve(e,t),l=i.join(a,"config.json"),u=i.join(a,"config.js"),d=await c.fileExists(l);let p;try{if(d)p=await c.readJSON(l);else{p=(await Promise.resolve().then((()=>r(n(84679)(u)))))?.default}}catch(t){throw new Error(o.i18n.t("ERROR_UI5_YAML_DYNAMIC_CFG_IMPORT",{filePath:d?l:u,yamlFile:i.join(e,s.FileName.Ui5MockYaml)}))}return p?.length?p:null}(e,a),mockFolder:a}}const l=t;return{services:l.service?l.service:l.services}},t.matchMockServiceByMetadataPath=l,t.findMockServiceByMetadataPath=function(e,t){if(Array.isArray(e)){for(const n of e)if(l(n,t))return n;return null}return e&&l(e,t)?e:null}},12607:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(71017),s=r(n(24346)),a=n(78702),o=n(98933);async function c(e,t){const n=i.join(e,t);return await a.fileExists(n)?a.readFile(n):null}t.readUi5YamlConfig=c,t.getParsedUi5YamlConfig=async function(e,t){const n=await c(e,t);if(n)try{return s.parse(n)}catch(n){throw new Error(o.i18n.t("ERROR_UI5_YAML_PARSING",{filePath:i.join(e,t),parsingError:n.message}))}return null}},8144:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const s=n(57147),a=r(n(23719)),o=r(n(64003)),c=n(75764),l=n(67508),u=r(n(11057)),d=n(71017),p=n(98933),f=n(78702),m=i(n(24346)),g=r(n(22037)),h=n(5092),y=n(14171),A=n(59390),S=n(91029);async function v(e,t=!0){const n=await u.default(c.FileName.Package,{cwd:e});if(!n)throw new Error("Could not find any project root. Parameter 'sapuxRequired' was "+(t?"true":"false"));let r=d.dirname(n);if(t){(await f.readJSON(n)).sapux||(r=await v(d.dirname(r),t))}return r}async function T(e,t){return _(e,c.FileName.Package,t,[".git","node_modules","dist",c.DirName.Sapux,c.DirName.Webapp,"MDKModule"])}async function _(e,t,n,r){return new Promise(((i,s)=>{const o=a.default(e);o.on("directory",((e,t,n)=>{const i=d.basename(e);-1!==r.indexOf(i)&&n()})),o.on("file",(e=>{e.endsWith(t)&&n.push(d.dirname(e))})),o.on("end",(()=>{i()})),o.on("error",(e=>{s(e)}))}))}function P(e){return e&&e.length>0&&void 0!==e[0].uri}t.scriptsRegEx=/fiori run|cds watch|cds run|ui5 serve|mvn spring-boot:run/,t.findProjectRoot=v,t.findLibrary=async function(e,t){return _(e,".library",t,[".git","node_modules","dist"])},t.findExtensionFiles=async function(e,t=c.FileName.Fragment){const n=[];return new Promise(((r,i)=>{const s=a.default(e);s.on("directory",((e,t,n)=>{const r=d.basename(e);".git"!==r&&"node_modules"!==r&&"dist"!==r&&r!==c.DirName.Sapux||n()})),s.on("file",(e=>{e.endsWith(t)&&n.push(e)})),s.on("end",(()=>{r(n)})),s.on("error",(e=>{i(e)}))}))},t.hasDependency=(e,t)=>e.dependencies&&void 0!==e.dependencies[t]||e.devDependencies&&void 0!==e.devDependencies[t];const E=e=>{if(e.scripts){let n=!1;for(const r in e.scripts){if(e.scripts[r].match(t.scriptsRegEx)){n=!0;break}}return n}};async function O(e,t){let n;P(e)?(n=[],e.filter((e=>"file"===e.uri.scheme)).forEach((e=>{n.push(e.uri.fsPath)}))):n=e||[];const r=[];for(const e of n)try{await T(e,r)}catch(n){const r=p.i18n.t("ERROR_PROJECT_ROOT_WORKSPACE",{root:e,error:n.message});t?t.error(r):console.error(r)}return r}async function C(e,t=!0,n){const r=await O(e,n);if(t){const e=[];for(const t of r)try{(await f.readJSON(d.join(t,c.FileName.Package))).sapux&&e.push(t)}catch(e){const t=p.i18n.t("ERROR_INVALID_PACKAGE_JSON",{error:e.message});n?n.error(t):console.error(t)}return e}return r}async function w(e){try{const n=await v(e,!1);if(!n)return null;const r=await f.readJSON(d.join(n,c.FileName.Package));if(r?.sapux){if("boolean"==typeof r.sapux&&!0===r.sapux)return{appRoot:n,projectRoot:n};if(Array.isArray(r.sapux)){const t=r.sapux.map((e=>d.join(...e.split(/\\|\//)))).find((t=>e.startsWith(d.join(n,t)+d.sep)));if(t)return{appRoot:d.join(n,t),projectRoot:n}}return null}if(await h.isCapProject(n,r))return null;if(s.existsSync(d.join(n,c.FileName.Ui5LocalYaml))&&t.hasDependency(r,"@sap/ux-ui5-tooling"))return{appRoot:n,projectRoot:n};try{const{root:e}=d.parse(n);let t=d.dirname(n);for(;t!==e;){if(await h.isCapProject(t)&&d.join(t,"app")!==n)return{appRoot:n,projectRoot:t};t=d.dirname(t)}}catch(e){}}catch(e){console.error(e)}return null}async function I(e,t,n){const r=await f.readJSON(d.join(e,c.FileName.Package));return!!(r.dependencies&&void 0!==r.dependencies[t]||r.devDependencies&&void 0!==r.devDependencies[t])||!0===n&&!0===r.sapux}function N(e){const t=e["sap.ovp"]?e["sap.ovp"].globalFilterModel:"";return e["sap.ui5"]&&e["sap.ui5"].models&&e["sap.ui5"].models[t]?e["sap.ui5"].models[t].dataSource:void 0}function b(e,t){let n;const r=t?.["sap.ui5"]?.models?.i18n||{};if("uri"in r&&"string"==typeof r.uri)n=r.uri;else if("settings"in r&&"object"==typeof r.settings&&"bundleUrl"in r.settings&&"string"==typeof r.settings.bundleUrl)n=r.settings.bundleUrl;else if("settings"in r&&"object"==typeof r.settings&&"bundleName"in r.settings&&"string"==typeof r.settings.bundleName){const e=r.settings.bundleName.replace(t["sap.app"].id,"");n=`${d.join(...e.split("."))}.properties`}else"string"==typeof t?.["sap.app"]?.i18n&&(n=t["sap.app"].i18n);return n?d.join(e,n):void 0}async function R(e,t){const n=(await f.readFile(e)).split(/\r\n|\n/);for(let e=0;e<n.length;e++){const r=n[e];if(r.startsWith("#"))t(r,e);else{const[n,i]=r.includes("=")?r.split("="):r.split(":");t(r,e,n?n.trim():n,i?i.trim():i)}}return n}async function M(e,t){return await R(t,((t,n,r,i)=>{r&&i&&(e[r]=i)})),e}async function D(e,t){if(0===t.length)return;const n=[],r={},i=await R(e,((e,i,s,a)=>{const o=void 0!==a?t.findIndex((e=>e.key===s)):-1;if(-1!==o){const{key:n,value:i}=t[o];e=`${n}=${i}`,r[o]=!0}n.push(e)}));i.length>0&&i[i.length-1].trim()&&t.length&&n.push("");for(const e in t)if(!r[e]){const{comment:r,key:i,value:s}=t[e];r&&n.push(`#${r}`),n.push(`${i}=${s}${g.default.EOL}`)}await f.updateFile(e,n.join(g.default.EOL))}async function k(e,t){return await h.isCapProject(e,t)?"Cap":"Edmx"}let x;t.findAllProjectRoots=C,t.getAppType=async function(e,t){if(e===t){return!0===(await f.readJSON(d.join(e,c.FileName.Package))).sapux?"SAP Fiori elements":"SAPUI5 freestyle"}try{const n=await f.readJSON(d.join(t,c.FileName.Package));if(!n.sapux)return"SAPUI5 freestyle";if(Array.isArray(n.sapux))return n.sapux.find((n=>d.join(t,...n.split(/\\|\//))===e))?"SAP Fiori elements":"SAPUI5 freestyle"}catch{return"SAPUI5 freestyle"}},t.getDetailedProjectType=async function(e,t){if(e===t)return"EDMX Backend";if(await h.isCapJavaProject(t))return"CAP Java";if(await h.isCapNodeJsProject(t))return"CAP Node.js";throw new Error(p.i18n.t("ERROR_DETAIL_PROJECT_TYPE",{appRoot:e,projectRoot:t}))},t.findRootsForPath=w,t.findAllApps=async function(e){const t=[],n=await async function(e){let t;P(e)?(t=[],e.filter((e=>"file"===e.uri.scheme)).forEach((e=>{t.push(e.uri.fsPath)}))):t=e||[];const n=[];for(const e of t)try{await _(e,c.FileName.Manifest,n,[".git","node_modules","dist"])}catch(t){const n=p.i18n.t("ERROR_PROJECT_ROOT_WORKSPACE",{root:e,error:t.message});console.error(n)}return n}(e);for(const e of n)try{const n=await f.readJSON(d.join(e,c.FileName.Manifest));if(!n["sap.app"]||!n["sap.app"].id||"application"!==n["sap.app"].type)continue;const r=await w(e);r&&t.push({appRoot:r.appRoot,projectRoot:r.projectRoot,manifest:n,manifestPath:e})}catch(t){console.info(`Couldn't check app with manifest.json located  in '${e}' for valid SAP Fiori tools project. Error was: ${t.message}`)}return t},t.findRunnableProjects=async(e,n)=>{const r=[],i=await C(e,!1);for(const e of i)try{const n=await f.readJSON(d.join(e,c.FileName.Package));(t.hasDependency(n,"@sap/ux-ui5-tooling")||await h.isCapProject(e,n))&&E(n)&&r.push(e)}catch(t){n?.info(`Invalid JSON ${d.join(e,c.FileName.Package)}. Application Modeler will skip this project.`);continue}return r},t.checkPackageJson=I,t.isFioriToolsProject=async function(e,t,n){try{return await I(e,t,n)}catch(e){return!1}},t.findProjectRootsByDependency=async function(e,t,n){const r=[],i=await O(e,n);for(const e of i)try{await I(e,t,!1)&&r.push(e)}catch(t){const r=p.i18n.t("ERROR_INVALIND_PACKAGE_JSON_FOR_APP",{root:e});n?n.error(r):console.error(r)}return r},t.getMainService=N,t.createApplicationStructureConfig=function(e,t,n){return{manifest:d.join(e,c.DirName.Webapp,c.FileName.Manifest),changes:d.join(e,c.DirName.Webapp,c.DirName.Changes),app:n?d.join(e,c.DirName.Sapux,c.FileName.App):void 0,i18n:b(d.join(e,c.DirName.Webapp),t),mainService:N(t),services:{},annotations:{},ext:d.join(e,c.DirName.Webapp,c.DirName.Ext),controller:d.join(e,c.DirName.Webapp,c.DirName.Ext,c.DirName.Controller),view:d.join(e,c.DirName.Webapp,c.DirName.Ext,c.DirName.View),fragment:d.join(e,c.DirName.Webapp,c.DirName.Ext,c.DirName.Fragment)}},t.fillServiceSpecificationForApp=function(e,t,n){const r=n["sap.app"].dataSources;for(const n in r)if(r[n].type===c.DataSourceType.OData){e.apps[t].services[n]={uri:r[n].uri};const i=e.apps[t].services;if(r[n].settings&&(i[n].local=r[n].settings?.localUri?d.join(t,c.DirName.Webapp,r[n].settings.localUri):"",r[n].settings.annotations)){e.apps[t].annotations[n]=e.apps[t].annotations[n]||[];for(const s of r[n].settings.annotations){const a=r[s];a&&(!a.uri||a.settings&&a.uri===a.settings.localUri?e.apps[t].annotations[n].push(d.join(t,c.DirName.Webapp,a.settings.localUri)):(i[n].annotations={uri:a.uri,local:a.settings&&a.settings.localUri?d.join(t,c.DirName.Webapp,a.settings.localUri):void 0},i[n].annotations.local&&e.apps[t].annotations[n].push(i[n].annotations.local)))}}}},t.getAppConfig=function(e,t){let n;if(void 0===t){const t=Object.keys(e.apps);if(t.length>1)throw n=p.i18n.t("ERROR_REQUIRED_APP"),new Error(n);return e.apps[t[0]]}{const r=e.apps[t];if(!r)throw n=p.i18n.t("ERROR_INVALID_APP_ID"),new Error(n);return r}},t.readAppJson=async function(e,t=!0){const n=await f.readJSON(e);if(t){const t=e.replace(c.FileName.App,c.DirName.Pages),r=await f.readDirectory(t);for(const e of r){const r=e.replace(".json","");n.pages[r]&&(n.pages[r].config=await f.readJSON(d.join(t,e)))}}return n},t.getI18nPath=b,t.mergeI18nProperties=M,t.getI18nProperties=async function(e,t){let n={};return n=await M(n,e),t&&(n=await M(n,e.replace("i18n.",`i18n_${t}.`))),n},t.updateI18nProperty=async function(e,t,n,r){await D(e,[{key:t,value:n,comment:r}])},t.updateI18nProperties=D,t.findI18nProperty=async function(e,t){let n;return await R(e,((e,r,i,s)=>{t&&s&&t===i&&(n={key:t,value:s,lineIndex:r})})),n},t.getProjectTypeFromProjectFiles=k,t.getProjectType=async function(e){return k(e,await f.readJSON(d.join(e,c.FileName.Package)))},t.getVersionFromManifest=function(e){if(e["sap.ui.generic.app"]||e["sap.ovp"])return l.FioriElementsVersion.v2;if(e["sap.ui5"]?.routing?.targets){let t=!1;return Object.keys(e["sap.ui5"]?.routing?.targets).forEach((n=>{e["sap.ui5"]?.routing?.targets[n].name?.startsWith("sap.fe.templates.")&&(t=!0)})),t?l.FioriElementsVersion.v4:void 0}return l.FioriElementsVersion.v4},t.getUi5CustomMiddleware=async function(e){const t=await f.readFile(d.join(e,c.FileName.Ui5Yaml));return m.parse(t)?.server?.customMiddleware?.find((e=>"fiori-tools-proxy"===e.name))},t.getLocalUI5Version=async function(e){const t=d.join(e,c.FileName.Ui5LocalYaml);if(await f.fileExists(t)){const e=m.parse(await f.readFile(t));return e.framework&&e.framework.version}},t.getUI5Version=async function(e){try{let t="latest";const n=await y.getUi5CustomWebappPath(e),r=d.join(e,n,c.FileName.Manifest);if(await f.fileExists(r)){t=(await f.readJSON(r))["sap.ui5"]?.dependencies?.minUI5Version,isNaN(parseFloat(t))&&(void 0===x&&(x=await A.getLatestSapui5Version()),t=x)}return t}catch(e){return"latest"}},t.checkServeLocalConfig=async function(e){const t=d.join(e,c.FileName.Ui5LocalYaml);if(await f.fileExists(t)){const e=m.parse(await f.readFile(t)).server.customMiddleware.find((e=>"fiori-tools-servestatic"===e.name));return!!(e&&e.mountPath&&"/resources|/test-resources"===e.mountPath&&e.configuration&&e.configuration.path)}return!1},t.getAppIdForFile=function(e,t,n){let r="";return n.forEach((n=>{const i=d.relative(d.join(t,n),e);!i||i.startsWith("..")||d.isAbsolute(i)||(r=n)})),r="win32"===g.default.platform()?r.replace(/\/\//g,"/"):r,r},t.isOVPProject=function(e){return!!e["sap.ovp"]},t.deleteCapApp=async function(e,t){const n=d.basename(e),r=await v(e),i=d.join(r,c.FileName.Package),s=await f.readJSON(i),a=[d.join(d.dirname(e),c.FileName.ServiceCds),d.join(d.dirname(e),c.FileName.IndexCds)];if(!Array.isArray(s.sapux))throw t?.error(p.i18n.t("ERROR_DEL_CAP_APP_SAPUX",{packageJsonPath:i})),Error(p.i18n.t("ERROR_DEL_CAP_APP_SAPUX",{packageJsonPath:i}));t?.info(p.i18n.t("INFO_DEL_CAP_APP",{appName:n,projectRoot:r}));const o=e.replace(/\\/g,"/");s.sapux=s.sapux.filter((e=>!o.endsWith(e))),0===s.sapux.length&&(t?.info(p.i18n.t("INFO_DEL_LAST_CAP_APP",{packageJsonPath:i})),delete s.sapux),s.scripts?.[`watch-${n}`]&&delete s.scripts[`watch-${n}`],await f.updateJSON(i,s),t?.info(p.i18n.t("INFO_DEL_CAP_APP_FILE_UPDATED",{packageJsonPath:i})),await f.deleteDirectory(e),t?.info(p.i18n.t("INFO_DEL_CAP_APP_DIR_DELETED",{appPath:e}));const l=`using from './${n}/annotations';`;for(const e of a)if(await f.fileExists(e))try{let r=await f.readFile(e);-1!==r.indexOf(l)&&(t?.info(p.i18n.t("INFO_DEL_CAP_APP_DELETE_USING",{appName:n,cdsFilePath:e})),r=r.replace(l,""),""===r.replace(/\n/g,"").trim()?(t?.info(p.i18n.t("INFO_DEL_CAP_APP_DEL_CDS",{cdsFilePath:e})),await f.deleteFile(e)):await f.updateFile(e,r))}catch(n){t?.error(p.i18n.t("ERROR_DEL_CAP_APP_MODIFY_CDS",{cdsFilePath:e}))}0===(await f.readDirectory(d.dirname(e))).length&&(t?.info(p.i18n.t("INFO_DEL_CAP_APP_FOLDER_EMPTY",{appPath:d.dirname(e)})),await f.deleteDirectory(d.dirname(e)))},t.getApplicationId=async function(e,t){let n=e["sap.app"].id;if(n===c.AppPomXmlArtifactIdPlaceholder)try{const e=await f.readFile(d.join(t,"pom.xml")),r=o.default.parse(e);if(!r.project?.artifactId)throw new Error;n=r.project.artifactId}catch(e){n=d.basename(t)}return n},t.getCapAppMockdataDirPath=function(e){const t=[d.join(e,c.DirName.Db,c.DirName.Csv),d.join(e,c.DirName.Db,c.DirName.Sapux,c.DirName.Csv)];for(const e of t)if(s.existsSync(e))return e;return d.join(e,c.DirName.Db,c.DirName.Data)},t.getEdmxAppDefaultMockdataDirPath=function(e){return d.join(e,c.DirName.Webapp,c.DirName.LocalService,c.DirName.Mockdata)},t.tryGetEdmxAppMockServiceMockdataDir=async function(e,t){const n=await S.getMockServerConfig(e);if(n){const{services:r,mockFolder:i}=await S.getMockServicesConfiguration(e,n);if(r){const n=S.findMockServiceByMetadataPath(r,t);if(n?.mockdataRootPath){const t=i?d.resolve(e,i):e;return d.resolve(t,n.mockdataRootPath)}}}}},14171:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(78702),s=n(71017),a=n(75764),o=r(n(24346));t.getUi5CustomWebappPath=async function(e){let t=a.DirName.Webapp;try{const n=await i.readFile(s.join(e,a.FileName.Ui5Yaml));t=o.parse(n)?.resources?.configuration?.paths?.webapp??a.DirName.Webapp}catch{t=a.DirName.Webapp}return t}},39761:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.v2="v2",e.v4="v4"}(t.FioriElementsVersion||(t.FioriElementsVersion={})),function(e){e.v2="v2",e.v4="v4"}(t.OdataVersion||(t.OdataVersion={})),function(e){e.Dynamic="Dynamic"}(t.PageHeaderType||(t.PageHeaderType={})),function(e){e.listReportV2="masterDetail-display",e.listReportV4="fe-lrop-v4",e.ovp="OVP-display"}(t.RootIntent||(t.RootIntent={})),function(e){e.FioriElement="SAP Fiori elements",e.UI5Freestyle="SAPUI5 freestyle"}(t.AppType||(t.AppType={})),t.AppPomXmlArtifactIdPlaceholder="${project.artifactId}"},29018:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22037),i=n(71017);var s;!function(e){e.Sapux="src",e.Schemas=".schemas",e.Pages="pages",e.Webapp="webapp",e.Temp=".tmp",e.Changes="changes",e.LocalService="localService",e.Controller="controller",e.View="view",e.Fragment="fragment",e.Ext="ext",e.VSCode=".vscode",e.AppConfig="appconfig",e.Db="db",e.Csv="csv",e.Data="data",e.Mockdata="mockdata"}(t.DirName||(t.DirName={})),function(e){e.Manifest="manifest.json",e.App="app.json",e.Package="package.json",e.ServiceMetadata="metadata.xml",e.NeoApp="neo-app.json",e.Pom="pom.xml",e.Fragment="fragment.xml",e.LaunchConfig="launch.json",e.ServiceCds="services.cds",e.IndexCds="index.cds",e.Ui5Yaml="ui5.yaml",e.Ui5LocalYaml="ui5-local.yaml",e.Ui5MockYaml="ui5-mock.yaml",e.fioriSandboxConfig="fioriSandboxConfig.json",e.View="view.xml"}(t.FileName||(t.FileName={})),function(e){e.dir=".fioritools",e.migrationSettingsFile="migrationSettings.json"}(s=t.FioriToolsSettings||(t.FioriToolsSettings={})),t.getFioriToolsDirectory=()=>i.join(r.homedir(),s.dir),function(e){e.Ftfs="ftfs"}(t.SchemeName||(t.SchemeName={}))},8251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(62828))},62828:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.initial="Initial",e.left="Left",e.center="Center",e.right="Right",e.begin="Begin",e.end="End"}(t.HAlign||(t.HAlign={})),function(e){e.None="None",e.SingleSelect="SingleSelect",e.SingleSelectLeft="SingleSelectLeft",e.SingleSelectMaster="SingleSelectMaster",e.MultiSelect="MultiSelect",e.Delete="Delete"}(t.TableMode||(t.TableMode={}))},75764:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(39761)),r(n(8251)),r(n(6874)),r(n(98222)),r(n(29018)),r(n(50036)),r(n(13610)),t.location=()=>__dirname.replace(/\\/g,"/")},50036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.VENDOR="VENDOR",e.CUSTOMER_BASE="CUSTOMER_BASE"}(t.UI5FlexLayer||(t.UI5FlexLayer={}))},6874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(53004))},53004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ObjectPage="ObjectPage",e.ListReport="ListReport",e.OverviewPage="OverviewPage",e.CustomPage="CustomPage",e.AnalyticalListPage="AnalyticalListPage"}(t.PageType||(t.PageType={}))},13610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Cap="Cap",e.Edmx="Edmx"}(t.ProjectType||(t.ProjectType={})),function(e){e.Edxm="EDMX Backend",e.CAPNode="CAP Node.js",e.CAPJava="CAP Java"}(t.DetailedProjectType||(t.DetailedProjectType={}))},98222:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(26471))},26471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(10496)),function(e){e.OData="OData",e.ODataAnnotation="ODataAnnotation"}(t.DataSourceType||(t.DataSourceType={}))},10496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIORI_FCL_ROUTER_CLASS="sap.f.routing.Router",t.FIORI_FCL_ROOT_VIEW_NAME="sap.fe.templates.RootContainer.view.Fcl",t.FIORI_FCL_ROOT_ID="appRootView",function(e){e.BeginColumnPages="beginColumnPages",e.MidColumnPages="midColumnPages",e.EndColumnPages="endColumnPages"}(t.FlexibleColumnLayoutAggregations||(t.FlexibleColumnLayoutAggregations={})),function(e){e.OneColumn="OneColumn",e.TwoColumnsBeginExpanded="TwoColumnsBeginExpanded",e.TwoColumnsMidExpanded="TwoColumnsMidExpanded",e.MidColumnFullScreen="MidColumnFullScreen",e.ThreeColumnsMidExpanded="ThreeColumnsMidExpanded",e.ThreeColumnsEndExpanded="ThreeColumnsEndExpanded",e.ThreeColumnsMidExpandedEndHidden="ThreeColumnsMidExpandedEndHidden",e.ThreeColumnsBeginExpandedEndHidden="ThreeColumnsBeginExpandedEndHidden",e.EndColumnFullScreen="EndColumnFullScreen"}(t.FlexibleColumnLayoutType||(t.FlexibleColumnLayoutType={})),function(e){e.XML="XML",e.HTML="HTML",e.JS="JS",e.JSON="JSON"}(t.ViewTypes||(t.ViewTypes={}))},34021:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OldSystemService="fiori/system/info",e.OldRefreshTokenService="fiori/system/refreshToken",e.ApiHub="fiori/system/apiHub"}(t.ServiceName||(t.ServiceName={})),function(e){e.BackendSystem="system"}(t.Entity||(t.Entity={}))},3297:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(71017)),s=n(57147),a=n(4528),o=n(43895);function c(e){const t=e?.trim().toLowerCase();return t&&a.plural(t)}function l(e){return c(e)+".json"}t.basedir=o.getFioriToolsDirectory,t.FilesystemStore=class{constructor(e){this.logger=e}async read({entityName:e,id:t}){const n=c(e);if(!n)return this.logger.debug("read: Entity Type is falsy - "+e),Promise.resolve(void 0);const{entities:r,error:i}=this._readAll(n);if(i){if("ENOENT"===i.code)return Promise.resolve(void 0);throw i}if(r)return Promise.resolve(r[t]);this.logger.debug(`read: After parsing, entities is falsy. Entity: ${n}, parsed value: ${r}`)}async getAll({entityName:e}){const t=c(e);if(!t)return this.logger.debug("read: Entity Type is falsy - "+e),Promise.resolve([]);const{entities:n,error:r}=this._readAll(t);if(r){if("ENOENT"===r.code)return Promise.resolve([]);throw r}return n?Promise.resolve(Object.values(n)):(this.logger.debug(`read: After parsing, entities is falsy. Entity: ${t}, parsed value: ${n}`),Promise.resolve([]))}async readAll({entityName:e}){const t=c(e);if(!t)return this.logger.debug("read: Entity Type is falsy - "+e),Promise.resolve({});const{entities:n,error:r}=this._readAll(t);if(r){if("ENOENT"===r.code)return Promise.resolve({});throw r}return n?Promise.resolve(n):(this.logger.debug(`read: After parsing, entities is falsy. Entity: ${t}, parsed value: ${n}`),Promise.resolve({}))}async write({entityName:e,id:t,entity:n}){const r=c(e);if(!r)return this.logger.debug("write: Entity is falsy - "+r),Promise.resolve(void 0);const{entities:i={},error:s}=this._readAll(r);if(s&&"ENOENT"!==s.code)throw s;return i[t]=n,this.writeToFile(r,i),Promise.resolve(n)}async del({entityName:e,id:t}){const n=c(e);if(!n)return this.logger.debug("delete: Entity is falsy - "+n),Promise.resolve(!1);const{entities:r={},error:i}=this._readAll(n);if(i&&"ENOENT"!==i.code)throw i;return!!r[t]?(this.logger.debug(`delete: entity found  for id - ${t}. Deleting`),delete r[t],this.writeToFile(n,r),Promise.resolve(!0)):(this.logger.debug("delete: entity not found"),Promise.resolve(!1))}_readAll(e){let n,r;try{n=s.readFileSync(i.join(t.basedir(),`${e}.json`))?.toString().trim()}catch(e){return this.logger.debug(e.message),{error:e}}if(!n)return{entities:void 0};try{r=JSON.parse(n)?.[e]}catch(e){return{error:e}}return{entities:r}}writeToFile(e,n){const r=t.basedir(),a=JSON.stringify({[e]:n},null,2),o=l(e);try{s.writeFileSync(i.default.join(r,o),a)}catch(e){if("ENOENT"!==e.code)throw e;this.logger.debug(`Base directory [${r}] does not exist, trying to create it`),s.mkdirSync(r,{recursive:!0}),s.writeFileSync(i.default.join(r,o),a)}}},t.getFilesystemWatcherFor=function(e,n){const r=i.default.join(t.basedir(),l(e));if(s.existsSync(r))return s.watch(r,void 0,(()=>{n(e)}));console.warn(`File Not Found: ${r}`)}},88098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3297),i=n(85782),s=n(66999),a=n(81981);function o(e){return"fiori/v2/"+e}t.HybridStore=class{constructor(e){this.logger=e,this.filesystem=new r.FilesystemStore(this.logger),this.secureStore=s.getSecureStore(this.logger)}async read({entityName:e,id:t}){const n=await this.filesystem.read({entityName:e,id:t});n?this.logger.debug("hybrid/read - id: [%s], filesystem: %O",t,n):this.logger.debug(`hybrid/read - id: [${t}], nothing on the filesystem`);const r=await this.secureStore.retrieve(o(e),t);return r?this.logger.debug(`hybrid/read - id: [${t}]. Found sensitive data in secure store`):this.logger.debug(`hybrid/read - id: [${t}], nothing in the secure store`),n||r?{...n,...r}:void 0}async getAll({entityName:e}){return Object.values(await this.readAll({entityName:e}))}async readAll({entityName:e}){const t={},n=await this.filesystem.readAll({entityName:e})||{},r=await this.secureStore.getAll(o(e))||{};for(const e of new Set([...Object.keys(n),...Object.keys(r)])){const i={...n[e],...r[e]};t[e]=i}return t}async write({entityName:e,id:t,entity:n}){const r=a.getSerializableProperties(n),s=a.getSensitiveDataProperties(n);if(r.length>0&&s.length>0)for(let e=0;e<r.length;e+=1)-1!==s.indexOf(r[e])&&(this.logger.debug(`hybrid/write - [${r[e]}] is also marked as sensitive. Not writing to filesystem`),r.splice(e,1));const c=i.pick(n,...r);c?(this.logger.debug("hybrid/write - writing serializable properties: %O",c),await this.filesystem.write({entityName:e,id:t,entity:c})):this.logger.debug("hybrid/write - no serializable properties found in %O",c);const l=i.pick(n,...s);return l?(this.logger.debug(`hybrid/write - writing sensitive properties to secure store. ID: [${t}]`),await this.secureStore.save(o(e),t,l)):this.logger.debug("hybrid/write - no sensitive properties found in %O",n),n}async del({entityName:e,id:t}){const n=await this.filesystem.del({entityName:e,id:t});this.logger.debug(`hybrid/del - delete result for id [${t}] on the filesystem: ${n}`);const r=await this.secureStore.delete(o(e),t);return this.logger.debug(`hybrid/del - delete result for id [${t}] in the secure store: ${r}`),n||r}}},49047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3297);t.getFilesystemWatcherFor=r.getFilesystemWatcherFor},43298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(88098),i=n(76578),s=n(88942);t.SystemDataProvider=class{constructor(e){this.entityName=s.Entities.BackendSystem,this.logger=e,this.dataAccessor=new r.HybridStore(this.logger)}async read(e){return this.dataAccessor.read({entityName:this.entityName,id:e.getId()})}async write(e){let t;return t=e instanceof i.BackendSystem?e:new i.BackendSystem({...e}),this.dataAccessor.write({entityName:this.entityName,id:i.BackendSystemKey.from(e).getId(),entity:t})}async delete(e){return this.dataAccessor.del({entityName:this.entityName,id:i.BackendSystemKey.from(e).getId()})}async getAll(){const e=await this.dataAccessor.readAll({entityName:this.entityName});for(const t of Object.keys(e)){e[t]?.url?.trim()||(this.logger.warn(`Filtering system with ID [${t}] as it seems corrupt. Run repair`),delete e[t])}return Object.values(e)}}},88942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.BackendSystem="system",e.SystemMigrationStatus="systemMigrationStatus"}(t.Entities||(t.Entities={}))},41033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3297),i=n(39806),s=n(88942);t.SystemMigrationStatusDataProvider=class{constructor(e){this.entityName=s.Entities.SystemMigrationStatus,this.logger=e,this.dataAccessor=new r.FilesystemStore(this.logger)}read(e){return this.dataAccessor.read({entityName:this.entityName,id:e.getId()})}write(e){return this.dataAccessor.write({entityName:this.entityName,id:(new i.SystemMigrationStatusKey).getId(),entity:e})}delete(e){return this.dataAccessor.del({entityName:this.entityName,id:(new i.SystemMigrationStatusKey).getId()})}getAll(){return this.dataAccessor.getAll({entityName:this.entityName})}}},81981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(13303);const r=Symbol("serializable");t.serializable=function(e,t){const n=Reflect.getOwnMetadata(r,e.constructor)||new Set;Reflect.defineMetadata(r,n.add(t),e.constructor)},t.getSerializableProperties=function(e){const t=Reflect.getOwnMetadata(r,e.constructor);return t&&Array.from(t.values())||[]};const i=Symbol("sensitive");t.sensitiveData=function(e,t){const n=Reflect.getOwnMetadata(i,e.constructor)||new Set;Reflect.defineMetadata(i,n.add(t),e.constructor)},t.getSensitiveDataProperties=function(e){const t=Reflect.getOwnMetadata(i,e.constructor);return t&&Array.from(t.values())||[]}},76578:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(81981);!function(e){e.Basic="basic",e.ReentranceTicket="reentranceTicket",e.OAuth2RefreshToken="oauth2",e.OAuth2ClientCredential="oauth2ClientCredential"}(t.AuthenticationType||(t.AuthenticationType={}));class BackendSystemKey{constructor({url:e,client:t}){this.url=e.trim().replace(/\/$/,""),this.client=t?.trim()}static from(e){return new BackendSystemKey({url:e.url,client:e.client})}getId(){return this.url+""+(this.client?"/"+this.client:"")}}t.BackendSystemKey=BackendSystemKey;class BackendSystem{constructor({name:e,url:t,client:n,serviceKeys:r,refreshToken:i,username:s,password:a,userDisplayName:o,authenticationType:c}){this.name=e,this.url=t,this.client=n,this.serviceKeys=r,this.refreshToken=i,this.username=s,this.password=a,this.userDisplayName=o,this.authenticationType=c}}r([i.serializable],BackendSystem.prototype,"name",void 0),r([i.serializable],BackendSystem.prototype,"url",void 0),r([i.serializable],BackendSystem.prototype,"client",void 0),r([i.serializable],BackendSystem.prototype,"userDisplayName",void 0),r([i.sensitiveData],BackendSystem.prototype,"serviceKeys",void 0),r([i.sensitiveData],BackendSystem.prototype,"refreshToken",void 0),r([i.sensitiveData],BackendSystem.prototype,"username",void 0),r([i.sensitiveData],BackendSystem.prototype,"password",void 0),r([i.sensitiveData],BackendSystem.prototype,"authenticationType",void 0),t.BackendSystem=BackendSystem},39806:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);return s>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});const i=n(81981);class SystemMigrationStatus{constructor({authTypeMigrated:e,migrationDone:t,migrationLogs:n}){this.migrationDone=t,this.authTypeMigrated=e,this.migrationLogs=n}}r([i.serializable],SystemMigrationStatus.prototype,"migrationDone",void 0),r([i.serializable],SystemMigrationStatus.prototype,"authTypeMigrated",void 0),r([i.serializable],SystemMigrationStatus.prototype,"migrationLogs",void 0),t.SystemMigrationStatus=SystemMigrationStatus;t.SystemMigrationStatusKey=class SystemMigrationStatusKey{getId(){return"systemMigration"}}},81879:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(73577)),s=r(n(9794)),a=r(n(71017)),o=i.default.createInstance();t.initI18n=async function(){await o.use(s.default).init({initImmediate:!1,fallbackLng:"en",fallbackNS:"default",interpolation:{escapeValue:!1},ns:"ux-store",defaultNS:"ux-store",backend:{loadPath:a.default.join(__dirname,"./translations/{{lng}}.{{ns}}.json")}})},t.text=function(e,t){return o.t(e,t)}},89389:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n(34021);t.Entity=i.Entity;const s=n(81879),a={system:n(23460).getInstance};t.getService=async function({logger:e=console,entityName:t}){await s.initI18n();const n=a[t];if(n)return n(e);throw new Error(s.text("error.unsupportedEntity",{entityName:t}))},r(n(7001)),r(n(66999)),r(n(76578));var o=n(49047);t.getFilesystemWatcherFor=o.getFilesystemWatcherFor},11407:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DummyStore=class DummyStore{constructor(e){this.log=e}async save(e,t,n){return this.log.warn(`Dummy store. Trying to save for service: ${e}, key: ${t}, value type: ${typeof n}`),Promise.resolve(!0)}async retrieve(e,t){return this.log.warn(`Dummy store. Trying to retrieve for service: ${e}, key: ${t}`),Promise.resolve(null)}async delete(e,t){return this.log.warn(`Dummy store. Trying to delete for service: ${e}, key: ${t}`),Promise.resolve(!0)}async getAll(e){return this.log.warn(`Dummy store. Trying to get all values for service: [${e}]`),Promise.resolve({})}}},66999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(43895),i=n(11407),s=n(9876);t.getSecureStore=e=>{if(r.isAppStudio()||process.env.UX_TOOLS_DISABLE_KEYSTORE)return new i.DummyStore(e);{const t=function(e){try{return n(74602)}catch(t){let r;e.warn(t),e.warn("Could not \"require('keytar')\". Trying VSCode's copy");try{r=n(66828)}catch(t){return e.warn(t),e.warn("Could not get hold of vscode"),null}try{return n(12937)(`${r?.env?.appRoot}/node_modules.asar/keytar`)}catch(t){e.warn(t),e.warn("Could not get keytar from vscode node_modules.asar")}try{return n(84397)(`${r?.env?.appRoot}/node_modules/keytar`)}catch(t){e.warn(t),e.warn("Could not get keytar from vscode node_modules")}return null}}(e);return t?new s.KeytarStore(e,t):new i.DummyStore(e)}}},9876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KeytarStore=class KeytarStore{constructor(e,t){this.log=e,this.keytar=t}async save(e,t,n){try{const r=JSON.stringify(n);return await this.keytar.setPassword(e,t,r),!0}catch(n){return this.log.error(`Error saving to secure store. Service: [${e}], key: [${t}]`),this.log.error(n),!1}}async retrieve(e,t){try{const n=await this.keytar.getPassword(e,t);return JSON.parse(n)}catch(n){return this.log.error(`Error retrieving from secure store. Service: [${e}], key: [${t}]`),this.log.error(n),null}}async delete(e,t){try{return await this.keytar.deletePassword(e,t)}catch(n){return this.log.error(`Error deleting from secure store. Service: [${e}], key: [${t}]`),this.log.error(n),!1}}async getAll(e){try{return(await this.keytar.findCredentials(e)).reduce(((e,t)=>{try{e[t.account]=JSON.parse(t.password)}catch(e){this.log.error(`Error parsing credentials for [${t.account}]`)}return e}),{})}catch(t){return this.log.error(`Error getting values for service: [${e}]`),this.log.error(t),{}}}}},23460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85782),i=n(43298),s=n(76578),a=n(19468),o=n(81879);class SystemService{constructor(e){this.migrationDone=!1,this.logger=r.getExtendedLogger(e),this.dataProvider=new i.SystemDataProvider(this.logger)}async partialUpdate(e,t){this.validatePartialUpdateInput(t);const n=await this.readOrThrow(e),r=this.mergeProperties(t,n);return this.write(r)}mergeProperties(e,t){const n={...e};delete n.url,delete n.client;const r={...t,...n};return new s.BackendSystem({...r})}async readOrThrow(e){const t=await this.read(e);if(!t)throw new Error(o.text("error.systemDoesNotExist",{system:e}));return t}validatePartialUpdateInput(e){if(!e||!Object.keys(e).length)throw new Error(o.text("error.noPropertiesSpecified"))}async ensureMigrationDone(){this.migrationDone||(await a.migrate(this.logger,this.dataProvider),this.migrationDone=!0)}async read(e){return await this.ensureMigrationDone(),this.dataProvider.read(e)}async write(e){return await this.ensureMigrationDone(),this.dataProvider.write(e)}async delete(e){return await this.ensureMigrationDone(),this.dataProvider.delete(e)}async getAll(){return await this.ensureMigrationDone(),this.dataProvider.getAll()}}t.SystemService=SystemService,t.getInstance=function(e){return new SystemService(e)}},7001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23460);t.SystemService=r.SystemService},19468:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34021),i=n(41033),s=n(76578),a=n(39806),o=n(81879),c=n(66999),l=n(85782);class Migration{constructor({logger:e,secureStore:t,systemMigrationStatus:n,systemDataProvider:r}){this.cache={},this.logger=e,this.secureStore=t,this.systemMigrationStatus=n,this.systemDataProvider=r}async run(){let e=!1,t=this.systemMigrationStatus.migrationDone;this.systemMigrationStatus.migrationDone||(this.logger.info(new Date(Date.now()).toString()),await this.migrateFromPureSecureStore(),await this.migrateRefreshTokens(),t=e=!0);let n=this.systemMigrationStatus.authTypeMigrated;return this.systemMigrationStatus.authTypeMigrated||(await this.migrateAuthType(),n=e=!0),{migrationStatus:{...this.systemMigrationStatus,migrationDone:t,authTypeMigrated:n},dirty:e}}async migrateFromPureSecureStore(){const e=await this.secureStore.getAll(r.ServiceName.OldSystemService),t=await this.getExistingSystems();for(const n of Object.keys(e))if(t[n])this.logger.info(o.text("error.systemAlreadyExistsInHybridStore",{systemId:n}));else{const t=e[n];this.logger.debug(`Migrating sytem ID: [${n}]`);const i=await this.getRefreshTokenFromOldStore(t);i&&this.logger.info(o.text("info.foundRefreshToken",{systemId:n})),await this.saveBackendSystem(new s.BackendSystem({...t,refreshToken:i})),await this.secureStore.delete(r.ServiceName.OldSystemService,n),i&&(await this.deleteOldRefreshToken(t,n),this.logger.info(o.text("info.deletingRefreshTokenFromOldStore",{systemId:n})))}}async migrateRefreshTokens(){const e=await this.getExistingSystems();for(const t of Object.keys(e)){const n=e[t],r=await this.getRefreshTokenFromOldStore(n);r&&(this.logger.info(o.text("info.foundRefreshToken",{systemId:t})),await this.updateRefreshTokenInStoredSystem(n,r,t),await this.deleteOldRefreshToken(n,t))}}async migrateAuthType(){const e=await this.getExistingSystems();for(const t of Object.keys(e)){const n=e[t];if(!n.authenticationType){this.logger.info(o.text("info.tryingToUpdateAuthType",{systemId:t}));const e=this.guessAuthType(n);e?(this.logger.info(o.text("info.authTypeDetermined",{authenticationType:e,systemId:t})),await this.saveBackendSystem(new s.BackendSystem({...n,authenticationType:e}))):this.logger.info(o.text("info.authTypeNotDetermined",{systemId:t}))}}}guessAuthType(e){return e.serviceKeys?s.AuthenticationType.OAuth2RefreshToken:e.username?s.AuthenticationType.Basic:void 0}async getRefreshTokenFromOldStore(e){try{const t=new URL(e.url)?.host;return t?await this.secureStore.retrieve(r.ServiceName.OldRefreshTokenService,t):void 0}catch{return}}async deleteOldRefreshToken(e,t){this.logger.info(o.text("info.deletingRefreshTokenFromOldStore",{systemId:t}));try{const t=new URL(e.url)?.host;await this.secureStore.delete(r.ServiceName.OldRefreshTokenService,t)}catch(t){this.logger.info(o.text("error.couldNotDeleteRefreshToken",{url:e.url})),this.logger.info(t.message)}}async updateRefreshTokenInStoredSystem(e,t,n){e.refreshToken!==t&&(this.logger.info(o.text("info.updatingRefreshTokenInNewStore",{systemId:n})),await this.saveBackendSystem(new s.BackendSystem({...e,refreshToken:t})))}async saveBackendSystem(e){return this.cache.existingSystems=void 0,this.systemDataProvider.write(e)}async getExistingSystems(){return this.cache.existingSystems||(this.cache.existingSystems=(await this.systemDataProvider.getAll()).reduce(((e,t)=>(e[new s.BackendSystemKey(t).getId()]=t,e)),{})),this.cache.existingSystems}}function u(e,t){return function(n){e(n),t(n)}}t.migrate=async function(e,t){try{const n=new i.SystemMigrationStatusDataProvider(e),r=await n.read(new a.SystemMigrationStatusKey)||{migrationDone:!1,authTypeMigrated:!1,migrationLogs:[]},s=function(e,t){const n=function(e){const t=l.newDebugLogger(l.MIGRATION_NAMESPACE);return t.log=t=>{e.push(t?.toString())},l.enableDebugLogger(l.MIGRATION_NAMESPACE),t}(t);return{info:u(n,e.info),warn:u(n,e.warn),error:u(n,e.error),debug:n}}(e,r.migrationLogs),o=c.getSecureStore(s),d=new Migration({logger:s,systemMigrationStatus:r,secureStore:o,systemDataProvider:t}),{migrationStatus:p,dirty:f}=await d.run();f&&await n.write(new a.SystemMigrationStatus({...p,migrationLogs:p.migrationLogs.slice(-200)}))}catch(t){e.warn(o.text("error.systemMigrationFailed")),e.debug(t.message)}}},85782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(50624);t.STORE_NAMESPACE="ft:store",t.MIGRATION_NAMESPACE=t.STORE_NAMESPACE+":migrate",t.newDebugLogger=(e=t.STORE_NAMESPACE)=>r.debug(e),t.enableDebugLogger=e=>r.debug.enable(e),t.pick=(e,...t)=>e&&t?.length>0&&t.reduce(((t,n)=>(t[n]=e[n],t)),{})||void 0,t.getExtendedLogger=function(e){return{...e,debug:t.newDebugLogger()}}},18473:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(26479),s=r(n(4683)),a=n(68192),o=n(67686),c=n(24275),l=n(3782);class ApplicationInsightClient extends i.Client{constructor(e,t,n){super(),this.clients=new Map,super.applicationKey=e,this.extensionVersion=n,this.extensionName=t;const r=this.createTelemetryClient(o.SampleRate.OnePercent),i=this.createTelemetryClient(o.SampleRate.TenPercent),s=this.createTelemetryClient(o.SampleRate.NoSampling);return this.clients.set(o.SampleRate.OnePercent,r),this.clients.set(o.SampleRate.TenPercent,i),this.clients.set(o.SampleRate.NoSampling,s),this}async report(e,t,n,r,i,s){if(void 0!==s&&!s||!c.TelemetrySystem.telemetryEnabled)return;const l=r||o.SampleRate.NoSampling,u=this.clients.get(l),d={name:new a.EventHeader(this.extensionName,e).toString(),properties:t,measurements:n};this.trackEvent(u,d)}trackEvent(e,t){return"true"!==process.env.SAP_UX_FIORI_TOOLS_DISABLE_TELEMETRY&&(e.trackEvent(t),!0)}createTelemetryClient(e){let t;switch(e){case o.SampleRate.OnePercent:t=1;break;case o.SampleRate.TenPercent:t=10;break;case o.SampleRate.NoSampling:default:t=100}const n=new s.TelemetryClient(this.applicationKey);return n.config.samplingPercentage=t,l.configAzureTelemetryClient(n),n}}t.ApplicationInsightClient=ApplicationInsightClient},26479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Client=class Client{constructor(){this.applicationKey="",this.extensionName="",this.extensionVersion=""}getApplicationKey(){return this.applicationKey}getExtensionVersion(){return this.extensionVersion}getExtensionName(){return this.extensionName}}},94120:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(24275),s=r(n(5401)),a=n(56035);class ClientFactory{static getTelemetryClient(){return ClientFactory.getTelemetryClientByClass(a.ToolsSuiteTelemetryClient)}static getTelemetryClientByClass(e){let t=ClientFactory.clientMap.get(e.name);return t||(t=i.TelemetrySystem.manifest?new e(s.azureInstrumentationKey,i.TelemetrySystem.manifest.name,i.TelemetrySystem.manifest.version):new e(s.azureInstrumentationKey,s.name,s.version),ClientFactory.clientMap.set(e.name,t),t)}}t.ClientFactory=ClientFactory,ClientFactory.clientMap=new Map},43159:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AzureApplicationInsights=0]="AzureApplicationInsights"}(t.ClientType||(t.ClientType={}))},68192:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EventHeader=class EventHeader{constructor(e,t){this.extensionName=e,this.eventName=t}getExtensionName(){return this.extensionName}getEventName(){return this.eventName}toString(){return`${this.extensionName}/${this.eventName}`}}},83064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Test="test",e.TELEMETRY_SETTINGS_INIT_FAILED="TELEMETRY_SETTINGS_INIT_FAILED",e.DISABLE_TELEMETRY="DISABLE_TELEMETRY",e.GUIDE_ACTION="GUIDE_ACTION",e.PANEL_LOAD="PANEL_LOAD",e.PAGEMAP="PAGEMAP",e.APP_ACTIONS="ACTIONS",e.PAGE_EDITOR="PAGE_EDITOR",e.PAGEMAP_STARTUP_TIME="PAGEMAP_STARTUP_TIME",e.APPLICATION_PREVIEW="APPLICATION_PREVIEW",e.APP_INFO_COMMAND_STARTED="APP_INFO_COMMAND_STARTED",e.APP_INFO_LINK_CLICKED="APP_INFO_LINK_CLICKED",e.APP_INFO_STARTUP_TIME="APP_INFO_STARTUP_TIME",e.SRV_MODELLER_SETTINGS_CHANGED="SRV_MODELER_SETTINGS_CHANGED",e.SRV_MODELER_ACTIVATED="SRV_MODELER_ACTIVATED",e.SRV_MODELER_PANEL_LOAD="SRV_MODELER_PANEL_LOAD",e.SRV_MODELER_BACKEND_LOAD="SRV_MODELER_BACKEND_LOAD",e.SRV_MODELER_ODATA_VERSION="SRV_MODELER_ODATA_VERSION",e.ANNOTATION_FILE_PANEL_LOAD="ANNOTATION_FILE_PANEL_LOAD",e.ANNOTATION_FILE_BACKEND_LOAD="ANNOTATION_FILE_BACKEND_LOAD",e.ANNOTATION_LSP_XML_LOAD="ANNOTATION_LSP_XML_LOAD",e.ANNOTATION_LSP_USAGE_TERM="ANNOTATION_LSP_USAGE_TERM",e.ANNOTATION_LSP_CODE_COMPLETION_TERM="ANNOTATION_LSP_CODE_COMPLETION_TERM",e.ANNOTATION_LSP_CODE_COMPLETION="ANNOTATION_LSP_CODE_COMPLETION",e.MIGRATION_ACTIVATED="MIGRATION_ACTIVATED",e.MIGRATION_BACKEND_LOAD="MIGRATION_BACKEND_LOAD",e.MIGRATION_COMPLETED="MIGRATION_COMPLETED",e.MIGRATION_SUCCESS="MIGRATION_SUCCESS",e.MIGRATION_FAILED="MIGRATION_FAILED",e.MIGRATION_SHOW_INFO_PAGE="MIGRATION_SHOW_INFO_PAGE",e.DEPLOY_CONFIG="DEPLOY_CONFIG",e.DEPLOY="DEPLOY",e.DEPLOY_FAIL="DEPLOY_FAIL",e.DATA_EDITOR_EVENT="DATA_EDITOR_EVENT",e.CPE_EVENT="CONTROL_PROPERTY_EDITOR_EVENT"}(t.EventName||(t.EventName={}))},67686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.OnePercent=0]="OnePercent",e[e.TenPercent=1]="TenPercent",e[e.NoSampling=2]="NoSampling"}(t.SampleRate||(t.SampleRate={}))},1704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2599),i=(e,t,n,i,s,a,o)=>{const c=n.value,l=(e?r.asyncInterceptorTypesMapping:r.interceptorTypesMapping).get(s);n.value=l(t,c,i,a,o)};t.logTelemetry=(e,t,n,r)=>(s,a,o)=>{i(!1,s,o,e,t,n,r)},t.logTelemetryAsync=(e,t,n,r)=>(s,a,o)=>{i(!0,s,o,e,t,n,r)}},47937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(94120);t.ClientFactory=r.ClientFactory;var i=n(26479);t.Client=i.Client;var s=n(43159);t.ClientType=s.ClientType;var a=n(18473);t.ApplicationInsightClient=a.ApplicationInsightClient;var o=n(24275);t.TelemetrySystem=o.TelemetrySystem;var c=n(68192);t.EventHeader=c.EventHeader;var l=n(83064);t.EventName=l.EventName;var u=n(67686);t.SampleRate=u.SampleRate;var d=n(2599);t.interceptorTypes=d.interceptorTypes;var p=n(35299);t.PerformanceMeasurementAPI=p.PerformanceMeasurementAPI;var f=n(10398);t.ParamRecordConfig=f.ParamRecordConfig,t.ParamRecordConfigField=f.ParamRecordConfigField;var m=n(1704);t.logTelemetry=m.logTelemetry,t.logTelemetryAsync=m.logTelemetryAsync;var g=n(56035);t.initTelemetrySettings=g.initTelemetrySettings,t.ToolsSuiteTelemetryClient=g.ToolsSuiteTelemetryClient,t.setEnableTelemetry=g.setEnableTelemetry,t.getTelemetrySetting=g.getTelemetrySetting,t.TelemetrySettings={}},2599:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(89410));var s;!function(e){e.NOTIFICATION="notify",e.DURATION="duration",e.CAPTURE_PARAM="captureParam"}(s=t.interceptorTypes||(t.interceptorTypes={}));const a=new Map;t.interceptorTypesMapping=a,a.set(s.NOTIFICATION,i.notify),a.set(s.DURATION,i.duration),a.set(s.CAPTURE_PARAM,i.captureParam);const o=new Map;t.asyncInterceptorTypesMapping=o,o.set(s.NOTIFICATION,i.notifyAsync),o.set(s.DURATION,i.durationAsync),o.set(s.CAPTURE_PARAM,i.captureParamAsync)},89410:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94120),i=n(35299),s=n(10398);t.notify=(e,t,n,i)=>(...s)=>{const a=t.apply(e,s);return r.ClientFactory.getTelemetryClient().report(n,{},{},i),a},t.notifyAsync=(e,t,n,i)=>async(...s)=>{const a=await t.apply(e,s);return r.ClientFactory.getTelemetryClient().report(n,{},{},i),a},t.duration=(e,t,n,s)=>(...a)=>{const o=i.PerformanceMeasurementAPI.startMark("mark"),c=t.apply(e,a);i.PerformanceMeasurementAPI.endMark(o),i.PerformanceMeasurementAPI.measure(o);const l=i.PerformanceMeasurementAPI.getMeasurementDuration(o);return r.ClientFactory.getTelemetryClient().report(n,{},{ms:l},s),c},t.durationAsync=(e,t,n,s)=>async(...a)=>{const o=i.PerformanceMeasurementAPI.startMark("mark"),c=await t.apply(e,a);i.PerformanceMeasurementAPI.endMark(o),i.PerformanceMeasurementAPI.measure(o);const l=i.PerformanceMeasurementAPI.getMeasurementDuration(o);return r.ClientFactory.getTelemetryClient().report(n,{},{ms:l},s),c},t.captureParam=(e,t,n,i,a)=>(...o)=>{const c=t.apply(e,o),[l,u]=s.getParamsData(o,a);return r.ClientFactory.getTelemetryClient().report(n,l,u,i),c},t.captureParamAsync=(e,t,n,i,a)=>async(...o)=>{const c=await t.apply(e,o),[l,u]=s.getParamsData(o,a);return r.ClientFactory.getTelemetryClient().report(n,l,u,i),c}},35299:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(39858),i=n(59297),s=n(126);class PerformanceMeasurementAPI extends i.PerformanceMeasurement{static initialize(){PerformanceMeasurementAPI.initTiming=PerformanceMeasurementAPI.now()}static mark(e,t,n){const i=new r.Mark(e,t,n);PerformanceMeasurementAPI.entries.push(i)}static startMark(e){const t=PerformanceMeasurementAPI.now(),n=e+t;return PerformanceMeasurementAPI.mark(n,i.EntryType.START_MARK,t),n}static endMark(e){const t=PerformanceMeasurementAPI.now();PerformanceMeasurementAPI.mark(e,i.EntryType.END_MARK,t)}static measure(e){const t=PerformanceMeasurementAPI.getEntriesByNameType(e,i.EntryType.START_MARK).slice(-1)[0],n=PerformanceMeasurementAPI.getEntriesByNameType(e,i.EntryType.END_MARK).slice(-1)[0];if(!t&&!n)throw new Error(`Failed to execute 'measure': mark '${e}' doesn't exist.`);if(!t||!n){const n=t?i.EntryType.END_MARK:i.EntryType.START_MARK;throw new Error(`Failed to execute 'measure': mark '${e}'of type '${n}' doesn't exist.`)}const s=t.getStartTime(),a=n.getStartTime()-s,o=new r.Measurement(`${e}`,PerformanceMeasurementAPI.now(),a);PerformanceMeasurementAPI.entries.push(o)}static getEntries(){return PerformanceMeasurementAPI.entries}static getEntriesByName(e){return PerformanceMeasurementAPI.entries.filter((t=>t.name===e))}static getEntriesByNameType(e,t){return PerformanceMeasurementAPI.entries.filter((n=>n.name===e&&n.type===t))}static getEntriesByType(e){return PerformanceMeasurementAPI.entries.filter((t=>t.type===e))}static getMeasurementDuration(e){return PerformanceMeasurementAPI.getEntriesByNameType(e,i.EntryType.MEASUREMENT).slice(-1)[0].getDurationTime()}static clearEntries(){PerformanceMeasurementAPI.entries=[]}}t.PerformanceMeasurementAPI=PerformanceMeasurementAPI,PerformanceMeasurementAPI.now=s,PerformanceMeasurementAPI.entries=[],PerformanceMeasurementAPI.initialize()},39858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(59297);class Mark{constructor(e,t,n){this.startTime=n,this.name=e,this.startTime=n,this.type=t}getStartTime(){return this.startTime}}t.Mark=Mark;t.Measurement=class Measurement extends Mark{constructor(e,t,n){super(e,r.EntryType.MEASUREMENT,t),this.startTime=t,this.duration=n,this.duration=n}getDurationTime(){return this.duration}}},59297:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.START_MARK="START_MARK",e.END_MARK="END_MARK",e.MEASUREMENT="MEASUREMENT"}(n||(n={})),t.EntryType=n;t.PerformanceMeasurement=class PerformanceMeasurement{}},24275:function(e,t,n){"use strict";e=n.nmd(e);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(57147)),s=n(52045),a=n(43724),o=n(43895),c=n(83380);class TelemetrySystem{static init(){a.debug("start System.init"),TelemetrySystem.modules=s.processMatchingPaths(TelemetrySystem.modules);let t=TelemetrySystem.getMatchingModulePath(e);a.debug(`base path: ${t}`),t||(TelemetrySystem.fallbackModules=s.processMatchingPaths(TelemetrySystem.fallbackModules),t=TelemetrySystem.getMatchingModulePath(e,!0));const n=TelemetrySystem.getManifestPath(t);a.debug(`package.json path: ${n}`),TelemetrySystem.manifest=TelemetrySystem.getManifestJSON(n)}static getManifestJSON(e){try{return JSON.parse(i.default.readFileSync(e,"utf-8"))}catch(e){return console.log(`[Telemetry]: ${e.message}`),null}}static getManifestPath(e){let t=e;return o.isAppStudio()&&t&&t.indexOf("generators")<0&&t.indexOf("deployment-generator")<0&&t.indexOf("/ux-ui5-tooling")<0&&(t=t.concat("/extension")),t&&t.indexOf("language-server")>-1&&(t=t.replace(/\/([^/]+)\/?$/,"/ide-extension")),t&&t.indexOf("generators")>-1&&t.indexOf("@sap/generator-fiori")<0&&(t=t.indexOf("deployment-generator")>-1?`${t}/telemetry`:t.slice(0,t.lastIndexOf("/"))),t&&t.indexOf("@sap/generator-fiori")>-1&&(t=`${t}/telemetry`),t?`${t}/package.json`:""}static getMatchingModulePath(e,t){let n=e.filename||__dirname;n?.indexOf("\\")>-1&&(n=n.replace(/\\/g,"/"));const r=t?TelemetrySystem.fallbackModules:TelemetrySystem.modules,i=TelemetrySystem.matchModule(n,r);return!i&&e.parent?TelemetrySystem.getMatchingModulePath(e.parent,t):i}static matchModule(e,t){let n=null;return t.forEach((t=>{t.patterns.forEach((r=>{const i=e?.match(r);i&&i.length>0&&(n=i[0],TelemetrySystem.WORKSTREAM=t.workStream)}))})),n}}t.TelemetrySystem=TelemetrySystem,TelemetrySystem.modules=[{workStream:"extension",patterns:["ide-extension","sap-ux-[\\w-.@]+"]},{workStream:"core",patterns:["core"]}],TelemetrySystem.fallbackModules=[{workStream:"extension",patterns:["language-server[\\w.-]*"]},{workStream:"core",patterns:["generators","project-generator","deployment-generator","ux-ui5-tooling","generator-common"]}];try{TelemetrySystem.init()}catch(e){c.reportRuntimeError(e)}},56035:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(70127));var i=n(77471);t.processToolsSuiteTelemetry=i.processToolsSuiteTelemetry,r(n(39493)),r(n(11767))},70127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18473),i=n(56035),s=n(12319);class ToolsSuiteTelemetryClient extends r.ApplicationInsightClient{constructor(e,t,n){super(e,t,n)}async report(e,t,n,r,a,o){const c={...t,...await i.processToolsSuiteTelemetry(a),...{v:this.extensionVersion,datetime:s.localDatetimeToUTC()}};await super.report(e,c,n,r,a,o)}async reportEvent(e,t,n,r){const a=await i.processToolsSuiteTelemetry(n),o={v:this.extensionVersion,datetime:s.localDatetimeToUTC()},c={...e.properties,...a,...o},l={...e.measurements};await super.report(e.eventName,c,l,t,n,r)}}t.ToolsSuiteTelemetryClient=ToolsSuiteTelemetryClient},77471:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(43895),s=r(n(94486)),a=r(n(57147)),o=r(n(71017)),c=r(n(52375)),l=n(8144),u=n(5092),d=n(11767),p=n(37705);async function f(){const e={};return e[d.CommonProperties.DevSpace]=await async function(){if(i.isAppStudio())try{const e=process.env.H2O_URL,t=`${e}/destinations/ws-manager/api/v1/workspace/${process.env.WORKSPACE_ID.replace("workspaces-","")}`,n=await s.default.get(t);if(n.data){const e=n.data?.config?.annotations?.pack;return e||""}}catch(e){}return""}(),e[d.CommonProperties.AppStudio]=i.isAppStudio(),e[d.CommonProperties.AppStudioBackwardCompatible]=e[d.CommonProperties.AppStudio],e[d.CommonProperties.InternlVsExternal]=p.isInternalFeaturesSettingEnabled()?"internal":"external",e[d.CommonProperties.InternlVsExternalBackwardCompatible]=e[d.CommonProperties.InternlVsExternal],e}t.processToolsSuiteTelemetry=async function(e){const t=await f();let n={};return e&&(n=await async function(e){if(!e)return{};const t=await async function(e){const t=o.default.join(e,"README.md");if(a.default.existsSync(t)){const e=await a.default.promises.readFile(t,"utf-8");if(e){let t="";const n=e.split(/\r?\n/);for(const e of n){const n=e.match(/\|\*\*Floorplan Used\*\*<br>.*\|/g);if(n&&n.length>0){t=e.replace("|**Floorplan Used**<br>","").replace("|","").trim();break}}return t}}return""}(e),n=await async function(e){const t=o.default.join(e,"ui5-deploy.yaml");if(a.default.existsSync(t)){const e=await a.default.promises.readFile(t,"utf-8"),n=c.default.parse(e)?.builder?.customTasks;let r=!1;if(n){for(const e of n)if("deploy-to-abap"===e.name){r=!0;break}return r?d.DeployTarget.ABAP:d.DeployTarget.CF}return d.DeployTarget.UNKNOWN_DEPLOY_CONFIG}return d.DeployTarget.NO_DEPLOY_CONFIG}(e),r=await async function(e){try{let t;try{t=await l.findProjectRoot(e)}catch{}if(!t)try{const n=o.default.dirname(e);t=await l.findProjectRoot(n,!1)}catch(e){}let n=!1;if(!t){const r=o.default.dirname(e),i=o.default.dirname(r);n=await u.isCapJavaProject(i),t=n?i:e}if(n)return d.ODataSource.CAPJava;const r=await l.getProjectType(t);if("Cap"===r){if(await u.isCapJavaProject(t))return d.ODataSource.CAPJava;if(await u.isCapNodeJsProject(t))return d.ODataSource.CAPNode}else if("Edmx"===r)return d.ODataSource.ABAP}catch(e){return d.ODataSource.UNKNOWN}}(e),i={};return i[d.CommonProperties.TemplateType]=t,i[d.CommonProperties.DeployTargetType]=n,i[d.CommonProperties.ODataSourceType]=r,i}(e.appPath)),{...t,...n}},t.getCommonProperties=f},39493:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(83380),s=n(43724),a=n(24275),o=n(20034),c=n(43895),l=r(n(22037)),u=r(n(71017)),d=r(n(57147)),p=n(77471),f={win32:"\\AppData\\Roaming\\Code\\User\\settings.json",darwin:"/Library/Application Support/Code/User/settings.json",linux:"/.config/Code/User/settings.json",theia:"/.theia/settings.json"},m=["sap.ux.annotation.lsp.enableTelemetry","sap.ux.applicationModeler.enableTelemetry","sap.ux.help.enableTelemetry","sap.ux.serviceModeler.enableTelemetry"];t.setEnableTelemetry=async e=>{const t=await o.getService({entityName:"telemetrySetting"}),n=new o.TelemetrySetting({enableTelemetry:e});await t.write(n),a.TelemetrySystem.telemetryEnabled=e;const r=await p.getCommonProperties();i.reportEnableTelemetryOnOff(e,r)},t.getTelemetrySetting=async()=>{let e;try{const t=await o.getService({entityName:"telemetrySetting"});e=await t.read(new o.TelemetrySettingKey)}catch{}return e};const g=async()=>{const e=await o.getService({entityName:"telemetrySetting"});let n;try{n=await e.read(new o.TelemetrySettingKey)}catch{}if(n)a.TelemetrySystem.telemetryEnabled=n.enableTelemetry;else{const e=(e=>{const t=process.platform;let n=e[t];if(c.isAppStudio()&&(n=e.theia),!n)return console.error("no path for current OS is provided - ",t),null;const r=l.default.homedir();return u.default.join(r,n)})(f);if(e){let n;try{n=await d.default.promises.readFile(e,"utf-8");const r=JSON.parse(n),i=m.map((e=>r[e]??!0)).reduce(((e,t)=>e&&t));t.setEnableTelemetry(i)}catch{t.setEnableTelemetry(!0)}}else t.setEnableTelemetry(!0)}"extension"===a.TelemetrySystem.WORKSTREAM&&o.getFilesystemWatcherFor(o.Entity.TelemetrySetting,(async()=>{const t=await e.read(new o.TelemetrySettingKey);a.TelemetrySystem.telemetryEnabled=t.enableTelemetry}))},h=async()=>{if(s.debug("start initTelemetrySettings"),!a.TelemetrySystem.WORKSTREAM)throw new Error("Workstream is undefined");s.debug(`workstream: ${a.TelemetrySystem.WORKSTREAM}`),a.TelemetrySystem.telemetryEnabled=!0,await g()};t.initTelemetrySettings=async e=>{try{e&&e.modulePackageJson?await(async e=>{var t;a.TelemetrySystem.WORKSTREAM=(t=e.modulePackageJson).contributes||t.activationEvents||t.name.match(/sap-ux-.*-extension/g)?"extension":"core",a.TelemetrySystem.manifest=e.modulePackageJson,await h()})(e):await h()}catch(e){i.reportRuntimeError(e)}}},11767:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CAPJava="CAPJava",e.CAPNode="CAPNode",e.ABAP="ABAP",e.UNKNOWN="UNKNOWN"}(t.ODataSource||(t.ODataSource={})),function(e){e.CF="CF",e.ABAP="ABAP",e.UNKNOWN_DEPLOY_CONFIG="UNKNOWN_DEPLOY_CONFIG",e.NO_DEPLOY_CONFIG="NO_DEPLOY_CONFIG"}(t.DeployTarget||(t.DeployTarget={})),function(e){e.DevSpace="cmn.devspace",e.AppStudio="cmn.appstudio",e.AppStudioBackwardCompatible="appstudio",e.InternlVsExternal="cmn.internalFeatures",e.InternlVsExternalBackwardCompatible="internalVsExternal",e.TemplateType="cmn.template",e.DeployTargetType="cmn.deployTarget",e.ODataSourceType="cmn.odataSource"}(t.CommonProperties||(t.CommonProperties={}))},43724:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(57147)),s=r(n(22037)),a=r(n(71017)),o=s.default.homedir(),c=a.default.join(o,"theiadebug.txt");t.debug=(e,t=!1)=>{t&&i.default.appendFileSync(c,`${e}\n`,"utf8")}},12319:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localDatetimeToUTC=()=>{const e=(new Date).getTime();return new Date(e).toISOString()}},10398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ParamRecordConfigField=class ParamRecordConfigField{constructor(e){this.path=e}};t.ParamRecordConfig=class ParamRecordConfig{constructor(e,t,n){this.key=e,this.value=t,this.paramIndex=n}},t.wrongPathErr=(e,t)=>new Error(`Wrong path for '${e}' field is specified in instructions with index - ${t}`),t.getValue=(e,n,r,i)=>{const s=n.split("/");let a=e,o=0;for(;o<s.length;){if(a=a[s[o]],void 0===a)throw t.wrongPathErr(r,i);o++}return a},t.paramsProcessing=(e,n)=>{const r={},i={};let s=null;void 0!==n.paramIndex&&(s=e[n.paramIndex]);const a=n.key?n.key:"data";let o="";return o="string"==typeof n.value?n.value:void 0!==n.value&&void 0!==n.paramIndex?t.getValue(s,n.value.path,"val",n.paramIndex):s,isNaN(o)?r[a]=o:i[a]=o,[r,i]},t.getParamsData=(e,n)=>{let r,i,s={},a={};if(Array.isArray(n))for(const o of n)[r,i]=t.paramsProcessing(e,o),s={...s,...r},a={...a,...i};else[s,a]=t.paramsProcessing(e,n);return[s,a]}},83380:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const i=n(83064),s=r(n(4683)),a=r(n(5401)),o=n(3782),c=new s.TelemetryClient(a.azureInstrumentationKey);o.configAzureTelemetryClient(c),t.reportRuntimeError=e=>{const t={message:e.message};if(e.stack){const n=(e=>{const t=[/sap-ux.+/gi,/[a-zA-Z-]+\/ide-extension\/.+/gi,/(\/telemetry\/.+)/gi],n=[],r=e.split("\n").filter((e=>!!e.match(/^\s*at .*(\S+:\d+|\(native\))/m)));return r.length?(r.forEach((e=>{let r=e.replace(/^\s+/,"");const i=e.match(/ (\((.+):(\d+):(\d+)\)$)/);if(!i)return;let s=null;const a=i[2].replace(/\\/g,"/");for(const e of t){const t=a.match(e);if(t){s=t[0];break}}if(!s)return;r=r.replace(i[0],"");const o=`${r.split(/\s+/).slice(1).join("")} at (${s}:${i[3]}:${i[4]});`;n.push(o)})),n):n})(e.stack);n.length&&(t.stack=n.join(" \n"))}const n={name:i.EventName.TELEMETRY_SETTINGS_INIT_FAILED,properties:t,measurements:{}};"true"!==process.env.SAP_UX_FIORI_TOOLS_DISABLE_TELEMETRY&&c.trackEvent(n)},t.reportEnableTelemetryOnOff=(e,t)=>{const n={name:i.EventName.DISABLE_TELEMETRY,properties:{disableTelemetry:`${!e}`,...t},measurements:{}};"true"!==process.env.SAP_UX_FIORI_TOOLS_DISABLE_TELEMETRY&&c.trackEvent(n)}},52045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processMatchingPaths=e=>{const t=e;return t.forEach((e=>{e.patterns=e.patterns.map((e=>new RegExp(`[\\w\\s-./:@!]+${e}`,"gi")))})),t}},3782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configAzureTelemetryClient=function(e){e.channel.setUseDiskRetryCaching(!0),e.addTelemetryProcessor((e=>(e.tags["ai.location.ip"]="0.0.0.0",e.tags["ai.cloud.roleInstance"]="masked",e.tags["ai.cloud.role"]="masked",e.tags["ai.device.type"]="masked",!0)))}},43130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(32081);t.CommandRunner=class CommandRunner{run(e,t=[]){return new Promise(((n,i)=>{const s=[],a=r.spawn(e,t,{});let o;a.stdout.setEncoding("utf8"),a.stdout.on("data",(e=>{o=e.toString()})),a.stderr.on("data",(e=>{s.push(e.toString())})),a.on("close",(r=>{0!==r&&i(`Command failed, \`${e} ${t.join(" ")}\`, ${s.join(", ")}`),n(o)}))}))}}},59390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43130);t.CommandRunner=r.CommandRunner;var i=n(57957);t.MIN_UI5_VERSION_V4_TEMPLATE=i.MIN_UI5_VERSION_V4_TEMPLATE,t.MIN_UI5_VERSION=i.MIN_UI5_VERSION,t.MIN_UI5_VERSION_ALP_V4_TEMPLATE=i.MIN_UI5_VERSION_ALP_V4_TEMPLATE,t.MIN_UI5_VERSION_FORM_ENTRY_TEMPLATE=i.MIN_UI5_VERSION_FORM_ENTRY_TEMPLATE,t.MIN_UI5_VERSION_WORKLIST_V4_TEMPLATE=i.MIN_UI5_VERSION_WORKLIST_V4_TEMPLATE,t.MIN_UI5_VERSION_OVERVIEW_V4_TEMPLATE=i.MIN_UI5_VERSION_OVERVIEW_V4_TEMPLATE,t.retrieveUI5Versions=i.retrieveUI5Versions,t.getUi5Themes=i.getUi5Themes,t.getManifestVersion=i.getManifestVersion,t.uI5VersionsWithCodeAssist=i.uI5VersionsWithCodeAssist,t.parseUI5Versions=i.parseUI5Versions,t.getSapSystemUI5Version=i.getSapSystemUI5Version,t.getUI5VersionsEnhanced=i.getUI5VersionsEnhanced,t.parseUI5VersionsOverview=i.parseUI5VersionsOverview,t.getLatestSapui5Version=i.getLatestSapui5Version;var s=n(9336);t.FioriElementsVersion=s.FioriElementsVersion,t.minUI5VersionForLocalDev=s.minUI5VersionForLocalDev,t.UI5Info=s.UI5Info},9336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.OfficialUrl="https://ui5.sap.com",e.SnapshotUrl="https://sapui5preview-sapui5.dispatcher.int.sap.eu2.hana.ondemand.com",e.VersionsFile="neo-app.json",e.DefaultVersion="Latest",e.DefaultTheme="sap_fiori_3",e.LatestVersionString="Latest",e.VersionsOverview="versionoverview.json",e.VersionExternalFile="version.json"}(t.UI5Info||(t.UI5Info={})),function(e){e.v2="v2",e.v4="v4"}(t.FioriElementsVersion||(t.FioriElementsVersion={})),t.minUI5VersionForLocalDev="1.79.0",t.inMaintenance="Maintenance"},57957:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(67883)),s=n(14867),a=n(77090),o=n(37705),c=n(9336),l=n(43130),u=r(n(94486)),d=r(n(95687));t.MIN_UI5_VERSION_V4_TEMPLATE="1.84.0",t.MIN_UI5_VERSION="1.65.0",t.MIN_UI5_VERSION_ALP_V4_TEMPLATE="1.90.0",t.MIN_UI5_VERSION_WORKLIST_V4_TEMPLATE="1.99.0",t.MIN_UI5_VERSION_FORM_ENTRY_TEMPLATE="1.90.0",t.MIN_UI5_VERSION_OVERVIEW_V4_TEMPLATE="1.96.8";const p="1.76.0",f=["Latest","1.84.0","1.82.0","1.81.0","1.80.0","1.79.0","1.78.0","1.77.0","1.76.0","1.75.0","1.74.0","1.73.0","1.72.0","1.71.0","1.70.0","1.69.0","1.68.0","1.67.0","1.66.0",t.MIN_UI5_VERSION],m=[{themeid:"sap_belize",label:"SAP Belize"},{themeid:"sap_fiori_3",label:"SAP Quartz Light"},{themeid:"sap_fiori_3_dark",label:"SAP Quartz Dark"},{themeid:"sap_horizon",label:"SAP Horizon (experimental)"}],g="1.32.0",h={"1.30":"1.1.0",1.32:"1.2.0",1.34:"1.3.0",1.38:"1.4.0",1.42:"1.5.0",1.46:"1.6.0",1.48:"1.7.0","1.50":"1.8.0",1.52:"1.9.0",1.54:"1.10.0",1.56:"1.11.0",1.58:"1.12.0",1.61:"1.13.0",1.62:"1.14.0",1.66:"1.15.0","1.70":"1.16.0",1.71:"1.17.0",1.74:"1.18.0",1.75:"1.19.0",1.76:"1.20.0",1.77:"1.21.0",1.78:"1.22.0",1.79:"1.23.0","1.80":"1.24.0",1.81:"1.25.0",1.82:"1.26.0",1.83:"1.27.0",1.84:"1.28.0",1.85:"1.29.0",1.86:"1.30.0",1.87:"1.31.0",1.88:g},y={warning:e=>{console.warn(e)},error:e=>{console.error(e)}},A=new Set(["snapshot","snapshot-untested","Latest"]);let S;function v(e,t){e=e.replace("snapshot-",""),t=t.replace("snapshot-","");const n=["Latest","snapshot","untested"];return n.indexOf(e)>-1&&n.indexOf(t)>-1?e.localeCompare(t):n.indexOf(e)>-1||n.indexOf(t)>-1?i.default(e,t):i.default(t+".999",e+".999")}function T(e,t){return e.filter((e=>!!A.has(e)||(e.startsWith("snapshot-")&&(e=e.replace("snapshot-","")),i.default(e,t)>=0)))}async function _(e,t="/neo-app.json"){const{system:n}=a.newSapSystemForServiceUrl(e);n.config.service=t;return new a.ODataClient({system:n.config,autoAddTrailingSlash:!1,timeout:4e3}).get()}async function P(e){const t=await _(e);return JSON.parse(JSON.stringify(t)).routes.map((e=>("/"===e.path&&(S=e.target.version),"/"===e.path?"Latest":e.target.version)))}async function E(){const e=await _("https://ui5.sap.com","/versionoverview.json");return JSON.parse(JSON.stringify(e)).versions.map((e=>{const t=s.coerce(e.version)?.version;if(void 0!==t)return{version:t,support:e.support}}))}async function O(e,n=y,r){let i=[],s=[];try{i=e?.onlyNpmVersion?await async function(e,n){const r="v2"===e?p:t.MIN_UI5_VERSION_V4_TEMPLATE;let i=[];try{const e=new l.CommandRunner,t="win32"===process.platform?"npm.cmd":"npm";i=(await e.run(t,["show","@sapui5/distribution-metadata","versions","--no-color"])).replace(/[\r?\n|\r[\] ']/g,"").trim().split(",")}catch(e){i=f.slice()}const s=T(w(i),r);let a=s.length?s.filter((e=>e&&/^\d+(\.\d+)*$/.test(e))):[r];if(n&&n.length){const e=a.findIndex((e=>e===n));-1===e?n<a.slice(-1)[0]&&(a=a.slice(-1)):a=a.slice(e)}return a}(e.fioriElementsVersion||"v2",e.ui5SelectedVersion):await t.retrieveUI5VersionsCache("officialVersions",e?.useCache)}catch(e){n.warning(`Request to 'https://ui5.sap.com' failed. Error was: '${e.message}'. Fallback to default UI5 versions`),i=f.slice()}if(e?.includeSnapshots)try{s=await t.retrieveUI5VersionsCache("snapshotsVersions",e?.useCache)}catch(e){n.error(`Request to 'https://sapui5preview-sapui5.dispatcher.int.sap.eu2.hana.ondemand.com' failed.  Error was: '${e.message}'`)}let a=[...i,...s].sort(v);return a=e?.minSupportedUI5Version?T(a,e?.minSupportedUI5Version):e?.fioriElementsVersion&&"v4"===e.fioriElementsVersion?T(a,t.MIN_UI5_VERSION_V4_TEMPLATE):T(a,t.MIN_UI5_VERSION),e?.onlyVersionNumbers&&(a=a.filter((e=>e&&/^\d+(\.\d+)*$/.test(e)))),r&&a[0].includes("Latest")&&(a[0]=S),!0===e?.removeDuplicateVersions?[...new Set(a)]:a}function C(e){return"Latest"===e||"untested"===e||"snapshot"===e}function w(e){return e.filter(Boolean).sort(((e,t)=>{const n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length);for(let e=0;e<i;e++){const t=+n[e]||0,i=+r[e]||0;if(t!==i)return t>i?1:-1}return 0})).reverse()}!function(e){e.official="officialVersions",e.snapshot="snapshotsVersions",e.overview="overview"}(t.UI5_VERSIONS_TYPE||(t.UI5_VERSIONS_TYPE={})),t.ui5VersionsCache={officialVersions:[],snapshotsVersions:[],overview:[]},t.getManifestVersion=function(e){const t=e.includes("snapshot");e=(e=e.replace("snapshot-","")).replace("snapshot","");const n=Object.keys(h).sort(i.default);let r;if(e&&"Latest"!==e)for(const[,t]of n.entries())e>=t&&(r=t);return r||(r=t?g:void 0!==S?S.substring(0,4):g),h[r]||g},t.requestUI5Versions=_,t.parseUI5Versions=P,t.parseUI5VersionsOverview=E,t.retrieveUI5VersionsCache=async(e,n=!1)=>{if(!n)switch(e){case"officialVersions":return P("https://ui5.sap.com");case"snapshotsVersions":return P("https://sapui5preview-sapui5.dispatcher.int.sap.eu2.hana.ondemand.com");case"overview":return E()}if(0===t.ui5VersionsCache[e].length)switch(e){case"officialVersions":t.ui5VersionsCache[e]=await P("https://ui5.sap.com");break;case"snapshotsVersions":t.ui5VersionsCache[e]=await P("https://sapui5preview-sapui5.dispatcher.int.sap.eu2.hana.ondemand.com");break;case"overview":t.ui5VersionsCache[e]=await E()}return t.ui5VersionsCache[e]},t.retrieveUI5Versions=O,t.getUI5VersionsEnhanced=async function(e){let n=await O(e,void 0,!0);const r=n[0];let i;return e?.includeSnapshots||(n=w(n)),!0===e?.groupUI5Versions&&(i=await t.retrieveUI5VersionsCache("overview",e?.useCache)),n.map((t=>{const n={name:t,value:t,version:{semantic:t,default:r===t}};return!0===e?.groupUI5Versions&&void 0!==i&&(n.version.maintained=i.some((e=>{if(void 0!==e)return`${s.major(e.version)}.${s.minor(e.version)}`==`${s.major(t)}.${s.minor(t)}`&&e.support===c.inMaintenance}))),n}))},t.getUi5Themes=function(e="Latest"){let t=e.replace("snapshot-","");t=function(e){e.split(".").length<3&&!C(e)&&(e=e.concat(".0"));return e}(t);const n=[];for(const e of m)switch(e.themeid){case"sap_belize":case"sap_fiori_3":n.push(e);break;case"sap_fiori_3_dark":(C(t)||i.default(t,"1.72.0")>=0)&&n.push(e);break;case"sap_horizon":("1.93.3"===t||C(t)||i.default(t,"1.96.0")>=0)&&o.isFeatureEnabled(o.ExperimentalFeatures)&&n.push(e)}return n},t.uI5VersionsWithCodeAssist=function(e,t){return T(e,"1.76.0").includes(t)||"Latest"===t},t.getSapSystemUI5Version=async function(e,t=!1){if(!e)return;const n=new URL("/sap/public/bc/ui5_ui5/bootstrap_info.json",e).toString();let r="";try{const e=await u.default.get(n,{httpsAgent:new d.default.Agent({rejectUnauthorized:t})});if(200===e.status){r=e.data.Version}}catch{}return r},t.getLatestSapui5Version=async function(){let e;try{const t="https://ui5.sap.com/version.json",n=await u.default.get(t);if(200===n.status){e=n.data?.latest?.version}}catch{e=void 0}return e}},2026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(71017),i=n(57147),s=n(3524),a=n(2868),o=n(76221),c=n(98462),l=n(20854);async function u(e,t,n){const{fallbackLanguage:r}=o.getI18nConfiguration(e);try{const e=o.jsonPathFormatter(t),s=await i.promises.readFile(e,{encoding:"utf8"}),a=c.addJsonTexts(s,r,n);await i.promises.writeFile(e,a,{encoding:"utf8"})}catch(e){if("ENOENT"===e?.code)return!1;throw e}return!0}async function d(e,t,n){const r=o.propertiesPathFormatter(t,e);let a=n.map((e=>s.printPropertiesFileI18nEntry(e.key,e.value,e.annotation))).join("");try{const e=await i.promises.readFile(r,{encoding:"utf8"}),t=e.split(/\r\n|\n/);t.length>0&&t[t.length-1].trim()&&(a=`\n${a}`),await i.promises.writeFile(r,e.concat(a),{encoding:"utf8"})}catch(s){if("ENOENT"===s?.code){return await p(e,t,n)||await i.promises.writeFile(r,a,{encoding:"utf8"}),!0}throw s}return!0}async function p(e,t,n){const{defaultLanguage:r}=o.getI18nConfiguration(e);try{const e=o.csvPathFormatter(t),s=await i.promises.readFile(e,{encoding:"utf8"}),a=l.addCsvTexts(s,r,n);await i.promises.writeFile(e,a,{encoding:"utf8"})}catch(e){if("ENOENT"===e?.code)return!1;throw e}return!0}t.addI18nEntriesForCdsFile=async function(e,t,n,s){const{folders:c,baseFileName:l}=o.getI18nConfiguration(e);let f=a.resolveI18nFolderForFile(e,r.join(t,n));if(!f){const e=c[0];f=r.join(t,e),await i.promises.mkdir(f)}const m=[u,d,p],g=r.join(f,l);for(const t of m){if(await t(e,g,s))break}}},20854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(44594),i=n(3524),s=n(46293),a=n(76221);function o(e){if(e)return{value:e.value,range:e.range}}t.loadCsvTexts=function(e,t=""){const n={},r=s.parseCsv(e);for(let e=1;e<r.header.fields.length;e++){const i=[];n[r.header.fields[e].value]=i;for(let n=0;n<r.rows.length;n++){const s=r.rows[n];if(s){const n=o(s.fields[0]),r=o(s.fields[e]);n&&r&&i.push({filePath:t,key:n,value:r})}}}return n},t.addCsvTexts=function(e,t,n){const o=s.parseCsv(e),c=a.discoverLineEnding(e),l=o.header.fields;if(-1!==l.findIndex((e=>e.value===t))){let r="";for(const e of n){r+=`${e.key};`;for(let n=1;n<l.length;n++){l[n].value===t&&(r+=`${e.value}`),n+1!==l.length&&(r+=";")}r+=c}return e.endsWith(c)?e+r:e+c+r}if(0===l.length){let r=`key;${t}${c}`;for(const e of n)r+=`${e.key};${e.value}${c}`;return e+r}{const s=r.TextDocument.create("","",0,e),a=[];a.push({newText:`;${t}`,range:i.Range.create(0,o.header.range.end.character,0,o.header.range.end.character)});for(const e of o.rows)a.push({newText:";",range:i.Range.create(e.range.end,e.range.end)});let u=`${c}`;for(const e of n){u+=`${e.key};`;for(let e=1;e<l.length;e++)u+=";";u+=`${e.value}${c}`}const d=o.rows.slice(-1)[0],p=d?d.range.end:i.Position.create(1,0);return a.push({newText:u,range:i.Range.create(p,p)}),r.TextDocument.applyEdits(s,a)}},t.createTextNode=function(e,t){return{value:e,range:t}}},46293:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3524),i=/[,;\t]/;function s(e){const t=[];let n=0,r="",s="default",a=0,o="text";for(;n<e.length;){const c=e[n];"default"===s?i.test(c)||"\n"===c?(t.push({type:o,value:r,start:a,end:n}),"\n"===c?t.push({type:"eol",value:"\n",start:n,end:n+1}):i.test(c)&&t.push({type:"separator",value:c,start:n,end:n+1}),r="",a=n+1,o="text"):'"'===c?s="quoted":r+=c:"quoted"===s&&('"'===c?n+1<e.length&&'"'===e[n+1]?(r+='"',n++):(o="escaped-text",s="default"):r+=c),n++}return r&&t.push({type:"text",value:r,start:a,end:n}),t}t.parseCsv=function(e){const t=s(e),n=r.getLineOffsets(e),i=e.length;let a=0;const o=e=>e?t[a+e]:t[a],c=()=>t[a++],l=()=>a>=t.length;function u(){const e=c();return{quoted:"escaped-text"===e.type,value:e.value,range:r.Range.create(r.positionAt(n,e.start,i),r.positionAt(n,e.end,i))}}function d(){const e={fields:[],range:r.Range.create(0,0,0,0)};for(;!l()&&"eol"!==o()?.type;){"escaped-text"!==o().type&&"text"!==o().type||e.fields.push(u());const t=o();t&&"eol"!==t.type&&("separator"===t.type&&void 0===o(1)&&e.fields.push({quoted:!1,value:"",range:r.Range.create(r.positionAt(n,t.end,i),r.positionAt(n,t.end,i))}),c())}if(e.fields.length){const t=e.fields[0].range.start,n=e.fields[e.fields.length-1].range.end;e.range=r.Range.create(t.line,t.character,n.line,n.character)}return e}return function(){const e={header:d(),rows:[]};for(;!l();)"escaped-text"!==o()?.type&&"text"!==o()?.type||e.rows.push(d()),c();return e}()},t.tokenize=s},54145:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20854);t.addCsvTexts=r.addCsvTexts,t.loadCsvTexts=r.loadCsvTexts;var i=n(98462);t.addJsonTexts=i.addJsonTexts,t.loadJsonTexts=i.loadJsonTexts;var s=n(2868);t.getI18nFolderNames=s.getI18nFolderNames,t.getCapI18nBundle=s.getCapI18nBundle;var a=n(2026);t.addI18nEntriesForCdsFile=a.addI18nEntriesForCdsFile},98462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(24529),i=n(44594),s=n(3524),a=n(76221);function o(e,t){return{[e]:t.reduce(((e,t)=>(e[t.key]=t.value,e)),{})}}function c(e,t){return{value:e,range:t}}function l(e,t,n){if(e)switch(typeof e.value){case"string":{const r=s.positionAt(t,e.offset+1,n),{value:i}=e;return c(i,s.Range.create(r,s.Position.create(r.line,r.character+i.length)))}case"number":{const r=s.positionAt(t,e.offset,n),i=e.value.toString();return c(i,s.Range.create(r,s.Position.create(r.line,r.character+i.length)))}case"boolean":{const r=s.positionAt(t,e.offset,n),i=e.value?"true":"";return c(i,s.Range.create(r,s.Position.create(r.line,r.character+i.length)))}default:{const r=s.positionAt(t,e.offset,n);return c("",s.Range.create(r,r))}}}t.loadJsonTexts=function(e,t=""){const n={},i=r.parseTree(e),a=s.getLineOffsets(e),o=e.length;if("object"===i?.type){const e=i.children??[];for(const r of e)if("property"===r.type){const e=[];n[(r.children??[])[0]?.value??""]=e;const i=(r.children??[])[1]?.children??[];for(const n of i)if("property"===n.type){const r=l((n.children??[])[0],a,o),i=l((n.children??[])[1],a,o);e.push({filePath:t,key:r,value:i})}}}return n},t.addJsonTexts=function(e,t,n){if(""===e){const e=o(t,n);return JSON.stringify(e,void 0,4)}const c=r.parseTree(e);if("object"===c?.type){const r=c.children??[],l=a.discoverLineEnding(e),u=a.discoverIndent(e),d=r.find((e=>(e.children??[])[0]?.value===t));if(!d){if(0===r.length){const e=o(t,n);return JSON.stringify(e,void 0,4)}{const c=i.TextDocument.create("","",0,e),[d]=r.slice(-1),p=c.positionAt(d.offset),f=o(t,n),m=JSON.stringify(f[t],void 0,u),g={newText:a.applyIndent(`"${t}": ${m},`,u,l)+l,range:s.Range.create(p.line,0,p.line,0)};return i.TextDocument.applyEdits(c,[g])}}{const r=(d.children??[])[1],c=r?.children??[];if(c.length){const t=i.TextDocument.create("","",0,e),r=t.positionAt(c[0].offset);let a="";for(let e=0;e<n.length;e++){const t=n[e];a+=`${u+u}"${t.key}": "${t.value}",${l}`}const o={newText:a,range:s.Range.create(r.line,0,r.line,0)};return i.TextDocument.applyEdits(t,[o])}if(r?.offset){const c=i.TextDocument.create("","",0,e),d=c.positionAt(r.offset),p=c.positionAt(r.offset+r.length),f=o(t,n),m=JSON.stringify(f[t],void 0,u),g={newText:a.applyIndent(`${m}`,u,l,!1),range:s.Range.create(d,p)};return i.TextDocument.applyEdits(c,[g])}}}return e},t.createTextNode=c},2868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(71017),i=n(57147),s=n(3524),a=n(20854),o=n(98462),c=n(76221);function l(e,t){const{folders:n}=c.getI18nConfiguration(e);return function e(t){for(const e of n){const n=r.join(t,e);if(i.existsSync(n))return n}const s=r.dirname(t);return s===t?void 0:e(s)}(t)}async function u(e,t){try{return t(await i.promises.readFile(e,{encoding:"utf8"}),e)}catch(e){if("ENOENT"===e?.code)return;throw e}}t.getI18nFolderNames=function(e){const{folders:t}=c.getI18nConfiguration(e);return t},t.resolveI18nFolderForFile=l,t.getCapI18nBundle=async function(e,t,n){const{defaultLanguage:i,fallbackLanguage:d,baseFileName:p}=c.getI18nConfiguration(e),f={},m=t.reduce(((t,n)=>{const i=l(e,n);if(i){const e=r.join(i,p);-1===t.indexOf(e)&&t.push(e)}return t}),[]),g=[{loader:o.loadJsonTexts,filePathFormatter:c.jsonPathFormatter},{loader:(e,t)=>({[d]:s.loadPropertiesTexts(e,t)}),filePathFormatter:c.propertiesPathFormatter},{loader:a.loadCsvTexts,filePathFormatter:c.csvPathFormatter}];for(const t of m){let s=!1,a=!1;for(const{loader:r,filePathFormatter:o}of g){const c=o(t,e);try{const e=await u(c,r);if(e){const t=e[d]??e[i];for(const e of t)f[e.key.value]?f[e.key.value].push(e):f[e.key.value]=[e];n.info(`Loaded i18n texts from ${c}`),s=!0;break}}catch(e){a=!0,n.error(`Failed to load ${c}. ${e?.message}`);break}}s||a||n.error(`No translation file found in ${r.dirname(t)}`)}return f}},76221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=/\r|\n|\r?\n/,r=/(?:\r|\n|\r?\n)([\t|\s]+)/;function i(e){const{default_language:t,fallback_bundle:n,file:r,folders:i}=e&&e.i18n||{};return{defaultLanguage:t??"en",fallbackLanguage:n??"",baseFileName:r??"i18n",folders:i??["_i18n","i18n"]}}t.discoverLineEnding=function(e){for(let t=0;t<e.length;t++){const n=e[t];if("\r"===n)return t+1<e.length&&"\n"===e[t+1]?"\r\n":"\r";if("\n"===n)return"\n"}return"\n"},t.discoverIndent=function(e){const t=r.exec(e);return t?t[1]:"    "},t.applyIndent=function(e,t,r,i=!0){const s=e.split(n);let a="";for(let e=0;e<s.length;e++){const n=s[e];a+=i||0!==e?t+n:n,e+1!==s.length&&(a+=r)}return a},t.getI18nConfiguration=i,t.jsonPathFormatter=function(e){return`${e}.json`},t.propertiesPathFormatter=function(e,t){const{fallbackLanguage:n}=i(t);return`${e}${""===n?"":`_${n}`}.properties`},t.csvPathFormatter=function(e){return`${e}.csv`}},74448:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(52066)),r(n(54145))},5092:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(71017),i=n(36036);t.CAP_SERVICES_FOLDER="srv",t.CAP_APPS_FOLDER="app",t.CAP_DB_FOLDER="db";async function s(e,t){return t||(t=await async function(e){let t;const n=r.join(e,"package.json");if(await i.fileExists(n))try{t=JSON.parse(await i.readFile(n))}catch(e){}return t}(e)),!(!t?.cds&&!t?.dependencies?.["@sap/cds"])}async function a(e){return i.fileExists(r.join(e,t.CAP_SERVICES_FOLDER,"src","main","resources","application.yaml"))}async function o(e,t){let n="";try{const s=r.normalize(e+"/"+t+"/package.json"),a=await i.readFile(s);if(a){n=JSON.parse(a).name}}catch(e){n=""}return n}t.isCapProject=async function(e,t){return await s(e,t)||await a(e)},t.isCapNodeJsProject=s,t.isCapJavaProject=a,t.toAbsoluteUri=(e,t)=>r.join(e.root,t),t.toReferenceUri=async(e,n,i)=>{let s="";const a=i.lastIndexOf("node_modules");if(a>=0){const e=i.lastIndexOf(".");s=e>a+13?i.slice(a+13,e):i.slice(a+13)}else if(i.startsWith("../")||i.startsWith("..\\")){const t=await async function(e,t){const n=t.split(r.sep),i={packageName:"",packageFolder:t};for(let t=n.length-1;t>=0&&!i.packageName;t--){const s=n.slice(0,t).join(r.sep);i.packageName=await o(e,s),i.packageName&&(i.packageFolder=s)}return i}(e.root,i);t.packageName&&(s=t.packageName+i.slice(t.packageFolder.length))}if(!s){const a=r.dirname(t.toAbsoluteUri(e,n));s=r.relative(a,t.toAbsoluteUri(e,i)),s.startsWith(".")||(s="./"+s)}const c=s.lastIndexOf(".")>0?s.slice(s.lastIndexOf(".")+1):"";return["CDS","JSON"].includes(c.toUpperCase())&&(s=s.slice(0,s.length-c.length-1)),s.split(r.sep).join("/")}},36036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57147);t.readFile=async function(e){const t=await r.promises.readFile(e);return Buffer.from(t).toString("utf8")},t.fileExists=async function(e){try{return await r.promises.access(e),!0}catch{return!1}}},86654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(85767);t.getCapCustomPaths=e=>{const t={},n=r.env.for("cds",e);try{n.folders&&(t.app=n.folders.app,t.db=n.folders.db,t.srv=n.folders.srv)}catch(e){}return t}},52066:(e,t,n)=>{"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(5092)),r(n(86654))},84679:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=84679,e.exports=t},12937:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=12937,e.exports=t},84397:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=84397,e.exports=t},54529:e=>{"use strict";e.exports=require("@opentelemetry/tracing")},85767:e=>{"use strict";e.exports=require("@sap/cds")},32220:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},10146:e=>{"use strict";e.exports=require("express")},74602:e=>{"use strict";e.exports=require("keytar")},66828:e=>{"use strict";e.exports=require("vscode")},91:e=>{"use strict";e.exports=require("yeoman-generator")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},96206:e=>{"use strict";e.exports=require("console")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},73292:e=>{"use strict";e.exports=require("fs/promises")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},74316:e=>{"use strict";e.exports=JSON.parse('{"Text_Key":"Text Key","Text_Value":"Text Value","Additional_Information":"Additional Information"}')},47473:e=>{"use strict";e.exports=JSON.parse('{"ERROR_SPECIFICATION_MISSING":"Seems specification package is missing. Please execute command \'npm i @sap/ux-specification --save-dev\' in root (where package.json is) of your project. \'{{root}}\'. Error was: {{error.message}}`","ERROR_VOCABULARY_NOT_FOUND":"Vocabulary not found! namespace: {{namespace}}, uri: {{- uri}} ","ERROR_READING_METADATA":"Error while reading service metadata {{path}}. Error was: {{error}}","ERROR_SERVICE_NOT_FOUND":"Service for uri: \'{{- uri}}\' not found. Available services: {{- services}}","ERROR_READING_CAP_SERVICE_METADATA":"Error while reading CAP service metadata. Path: {{- root}}, service uri: {{- uri}}, error: {{- error}}","ERROR_RESOLVING_CDS_ROOTS":"Error while resolving cds roots for \'{{projectRoot}}\'. {{error}}","ERROR_RETRIEVING_CDS_FILES":"Error while retrieving the list of cds files for project {{projectRoot}}, envRoot ${envRoot}. Error was: {{error}}","ERROR_PROJECT_ROOT_WORKSPACE":"Error while trying to find project in workspace root {{root}}. Error was: {{error}}","ERROR_INVALID_PACKAGE_JSON":"Found invalid package.json. {{error}}","ERROR_INVALIND_PACKAGE_JSON_FOR_APP":"Found invalid package.json in \'{{- root}}\'","ERROR_REQUIRED_APP":"Appication ID required.","ERROR_INVALID_APP_ID":"Invalid application ID.","CONSOLE_SHOULD_NOT_BE_HERE":"Should not be here \' {{currentValue}}","ERROR_LOADING_ANNOTATIONS_FROM_CAP":"Loading annotations from CAP project failed. {{error}}","ERROR_LOADING_ANNOTATIONS":"Loading annotations failed. {{error}}","ERROR_DEL_CAP_APP_SAPUX":"Property \'sapux\' in \'{{- packageJsonPath}}\' is not an array. Leaving..","ERROR_DEL_CAP_APP_MODIFY_CDS":"Could not modify file \'{{- cdsFilePath}}\'. Skipping this file.","INFO_DEL_CAP_APP":"Deleting app \'{{appName}}\' from CAP project \'{{- projectRoot}}\'.","INFO_DEL_LAST_CAP_APP":"This was the last app in this CAP project. Deleting property \'sapux\' from \'{{- packageJsonPath}}\'.","INFO_DEL_CAP_APP_FILE_UPDATED":"File \'{{- packageJsonPath}}\' updated.","INFO_DEL_CAP_APP_DIR_DELETED":"Directory \'{{- appPath}}\' deleted.","INFO_DEL_CAP_APP_DELETE_USING":"Removing using statement for \'./{{appName}}/annotations\' from \'{{- cdsFilePath}}\'.","INFO_DEL_CAP_APP_DEL_CDS":"File \'{{- cdsFilePath}}\' is now empty, removing it.","INFO_DEL_CAP_APP_FOLDER_EMPTY":"Directory \'{{- appPath}}\' is now empty. Deleting it.","ERROR_DETAIL_PROJECT_TYPE":"Cannot determine project type for app \'{{- appRoot}}\' with project root \'{{- projectRoot}}\'","ERROR_UI5_YAML_PARSING":"Cannot parse ui5 config file \'{{- filePath}}\'. Cause - \'{{- parsingError}}\'","ERROR_UI5_YAML_DYNAMIC_CFG_IMPORT":"Cannot import dynamic config from \'{{- filePath}}\', defined in - \'{{- yamlFile}}\'"}')},5401:e=>{"use strict";e.exports=JSON.parse('{"name":"@sap/ux-telemetry","version":"1.6.6","description":"SAP Fiori tools telemetry library","main":"dist/src/index.js","author":"SAP SE","license":"MIT","private":true,"azureInstrumentationKey":"0a65e45d-6bf4-421d-b845-61e888c50e9e","azureProdKey":"0a65e45d-6bf4-421d-b845-61e888c50e9e","scripts":{"pre-commit":"lint-staged --quiet","clean:dist":"rimraf ./dist ./generators *.tsbuildinfo","clean":"rimraf ./reports","build":"ts-node ./build-script/ && yarn run clean && tsc --build ./","test":"jest --maxWorkers=1 --ci --forceExit --detectOpenHandles","lint":"eslint . --ext .ts","lint:summary":"eslint . --ext .ts -f summary","lint:fix":"eslint --fix","lint:fix:all":"eslint . --ext .ts --fix","lint:report":"eslint . --ext .ts -f multiple ","format:fix":"prettier --write --loglevel silent --ignore-path ../../../.prettierignore","format:fix:all":"prettier --write \'**/*.{css,scss,html,js,json,ts,tsx,yaml,yml}\' \'!**/{out,dist,node_modules}/**\' \'!**/*.{svg,png,xml}\' --ignore-path ../../../.prettierignore","madge":"madge --warning --circular --extensions ts ./"},"dependencies":{"@sap-ux/store":"0.1.0","@sap/ux-cds":"1.6.6","@sap/ux-common-utils":"1.6.6","@sap/ux-feature-toggle":"1.6.6","@sap/ux-project-access":"1.6.6","applicationinsights":"1.4.1","performance-now":"2.1.0","yaml":"2.0.0-10"},"devDependencies":{"ts-node":"8.5.2","typescript":"3.8.3"},"files":["dist/"],"jestSonar":{"reportPath":"reports/test/unit","reportFile":"test-report.xml"},"eslint-formatter-multiple":{"formatters":[{"name":"stylish","output":"console"},{"name":"json","output":"file","path":"reports/lint/eslint.json"},{"name":"checkstyle","output":"file","path":"reports/lint/eslint.checkstyle.xml"}]}}')}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=n,i.x=()=>{var e=i.O(void 0,[712,732],(()=>i(43739)));return e=i.O(e)},e=[],i.O=(t,n,r,s)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,r,s]=e[u],o=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(i.O).every((e=>i.O[e](n[c])))?n.splice(c--,1):(o=!1,s<a&&(a=s));if(o){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[n,r,s]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>({712:"commonlibs",732:"generator-common"}[e]+"/index.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),i.j=909,(()=>{var e={909:1};i.O.require=t=>e[t];i.f.require=(t,n)=>{e[t]||(t=>{var n=t.modules,r=t.ids,s=t.runtime;for(var a in n)i.o(n,a)&&(i.m[a]=n[a]);s&&s(i);for(var o=0;o<r.length;o++)e[r[o]]=1;i.O()})(require("../../"+i.u(t)))}})(),t=i.x,i.x=()=>(i.e(712),i.e(732),t());var s=i.x();module.exports=s})();